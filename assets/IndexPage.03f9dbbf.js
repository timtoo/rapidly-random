var En=Object.defineProperty;var Tn=(e,t,n)=>t in e?En(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var _=(e,t,n)=>(Tn(e,typeof t!="symbol"?t+"":t,n),n);import{r as M,V as xt,k as Me,y as se,j as Ke,w as L,x as nt,z as ue,g as ie,q as dt,F as ct,a2 as Qe,I as Vn,h as $,a3 as An,a4 as Dn,a5 as Pn,a as m,i as ot,c as de,a6 as Ae,b as re,s as lt,v as De,C as nn,E as On,o as Fn,a7 as on,a8 as Ln,Q as ye,R as le,m as ft,f as zn,a9 as Nn,e as ln,u as an,aa as rn,ab as Hn,ac as In,ad as jn,ae as Qn,af as Wn,G as Un,ag as Kn,ah as Zn,J as fe,_ as ge,L as P,M as he,N as U,O as I,ai as Yn,aj as Gn,ak as Xn,K as me,al as Q,P as A,am as qe,an as it,S as ne,ao as oe,ap as mt,A as Jn,B as eo,aq as to,ar as X,as as no,at as sn,au as oo}from"./index.163c0179.js";import{d as vt,o as lo,e as _t,f as Ct,g as St,h as qt,l as un,a as $t,u as Mt,j as io,b as ao,r as ro,Q as so,p as uo,q as co,i as fo,k as mo}from"./format.a4dac5a8.js";const dn={target:{default:!0},noParentEvent:Boolean,contextMenu:Boolean};function cn({showing:e,avoidEmit:t,configureAnchorEl:n}){const{props:o,proxy:i,emit:a}=ie(),l=M(null);let r;function s(f){return l.value===null?!1:f===void 0||f.touches===void 0||f.touches.length<=1}const d={};n===void 0&&(Object.assign(d,{hide(f){i.hide(f)},toggle(f){i.toggle(f),f.qAnchorHandled=!0},toggleKey(f){xt(f,13)===!0&&d.toggle(f)},contextClick(f){i.hide(f),Me(f),se(()=>{i.show(f),f.qAnchorHandled=!0})},prevent:Me,mobileTouch(f){if(d.mobileCleanup(f),s(f)!==!0)return;i.hide(f),l.value.classList.add("non-selectable");const S=f.target;Ke(d,"anchor",[[S,"touchmove","mobileCleanup","passive"],[S,"touchend","mobileCleanup","passive"],[S,"touchcancel","mobileCleanup","passive"],[l.value,"contextmenu","prevent","notPassive"]]),r=setTimeout(()=>{i.show(f),f.qAnchorHandled=!0},300)},mobileCleanup(f){l.value.classList.remove("non-selectable"),clearTimeout(r),e.value===!0&&f!==void 0&&vt()}}),n=function(f=o.contextMenu){if(o.noParentEvent===!0||l.value===null)return;let S;f===!0?i.$q.platform.is.mobile===!0?S=[[l.value,"touchstart","mobileTouch","passive"]]:S=[[l.value,"mousedown","hide","passive"],[l.value,"contextmenu","contextClick","notPassive"]]:S=[[l.value,"click","toggle","passive"],[l.value,"keyup","toggleKey","passive"]],Ke(d,"anchor",S)});function g(){dt(d,"anchor")}function k(f){for(l.value=f;l.value.classList.contains("q-anchor--skip");)l.value=l.value.parentNode;n()}function p(){if(o.target===!1||o.target===""||i.$el.parentNode===null)l.value=null;else if(o.target===!0)k(i.$el.parentNode);else{let f=o.target;if(typeof o.target=="string")try{f=document.querySelector(o.target)}catch{f=void 0}f!=null?(l.value=f.$el||f,n()):(l.value=null,console.error(`Anchor: target "${o.target}" not found`))}}return L(()=>o.contextMenu,f=>{l.value!==null&&(g(),n(f))}),L(()=>o.target,()=>{l.value!==null&&g(),p()}),L(()=>o.noParentEvent,f=>{l.value!==null&&(f===!0?g():n())}),nt(()=>{p(),t!==!0&&o.modelValue===!0&&l.value===null&&a("update:modelValue",!1)}),ue(()=>{clearTimeout(r),g()}),{anchorEl:l,canShow:s,anchorEvents:d}}function fn(e,t){const n=M(null);let o;function i(r,s){const d=`${s!==void 0?"add":"remove"}EventListener`,g=s!==void 0?s:o;r!==window&&r[d]("scroll",g,ct.passive),window[d]("scroll",g,ct.passive),o=s}function a(){n.value!==null&&(i(n.value),n.value=null)}const l=L(()=>e.noParentEvent,()=>{n.value!==null&&(a(),t())});return ue(l),{localScrollTarget:n,unconfigureScrollTarget:a,changeScrollEvent:i}}let we=[],Pe=[];function mn(e){Pe=Pe.filter(t=>t!==e)}function vo(e){mn(e),Pe.push(e)}function Tt(e){mn(e),Pe.length===0&&we.length>0&&(we[we.length-1](),we=[])}function at(e){Pe.length===0?e():we.push(e)}function ho(e){we=we.filter(t=>t!==e)}const Re=[];function go(e){return Re.find(t=>t.__qPortalInnerRef.value!==null&&t.__qPortalInnerRef.value.contains(e))}function vn(e,t){do{if(e.$options.name==="QMenu"){if(e.hide(t),e.$props.separateClosePopup===!0)return Qe(e)}else if(e.__qPortalInnerRef!==void 0){const n=Qe(e);return n!==void 0&&n.$options.name==="QPopupProxy"?(e.hide(t),n):e}e=Qe(e)}while(e!=null)}function yo(e,t,n){for(;n!==0&&e!==void 0&&e!==null;){if(e.__qPortalInnerRef!==void 0){if(n--,e.$options.name==="QMenu"){e=vn(e,t);continue}e.hide(t)}e=Qe(e)}}function po(e){for(e=e.parent;e!=null;){if(e.type.name==="QGlobalDialog")return!0;if(e.type.name==="QDialog"||e.type.name==="QMenu")return!1;e=e.parent}return!1}function Rt(e,t,n,o){const i=M(!1),a=M(!1);let l=null;const r={},s=o===!0&&po(e);function d(k){if(k===!0){Tt(r),a.value=!0;return}a.value=!1,i.value===!1&&(s===!1&&l===null&&(l=Dn()),i.value=!0,Re.push(e.proxy),vo(r))}function g(k){if(a.value=!1,k!==!0)return;Tt(r),i.value=!1;const p=Re.indexOf(e.proxy);p>-1&&Re.splice(p,1),l!==null&&(Pn(l),l=null)}return Vn(()=>{g(!0)}),Object.assign(e.proxy,{__qPortalInnerRef:t}),{showPortal:d,hidePortal:g,portalIsActive:i,portalIsAccessible:a,renderPortal:()=>s===!0?n():i.value===!0?[$(An,{to:l},n())]:void 0}}const Bt={transitionShow:{type:String,default:"fade"},transitionHide:{type:String,default:"fade"},transitionDuration:{type:[String,Number],default:300}};function hn(e,t){const n=M(t.value);return L(t,o=>{se(()=>{n.value=o})}),{transition:m(()=>"q-transition--"+(n.value===!0?e.transitionHide:e.transitionShow)),transitionStyle:m(()=>`--q-transition-duration: ${e.transitionDuration}ms`)}}function Et(){let e;return ue(()=>{e=void 0}),{registerTick(t){e=t,se(()=>{e===t&&(e(),e=void 0)})},removeTick(){e=void 0}}}let gn;const{notPassiveCapture:Ze}=ct,xe=[];function Ye(e){clearTimeout(gn);const t=e.target;if(t===void 0||t.nodeType===8||t.classList.contains("no-pointer-events")===!0)return;let n=Re.length-1;for(;n>=0;){const o=Re[n].$;if(o.type.name!=="QDialog")break;if(o.props.seamless!==!0)return;n--}for(let o=xe.length-1;o>=0;o--){const i=xe[o];if((i.anchorEl.value===null||i.anchorEl.value.contains(t)===!1)&&(t===document.body||i.innerRef.value!==null&&i.innerRef.value.contains(t)===!1))e.qClickOutside=!0,i.onClickOutside(e);else return}}function yn(e){xe.push(e),xe.length===1&&(document.addEventListener("mousedown",Ye,Ze),document.addEventListener("touchstart",Ye,Ze))}function Ge(e){const t=xe.findIndex(n=>n===e);t>-1&&(xe.splice(t,1),xe.length===0&&(clearTimeout(gn),document.removeEventListener("mousedown",Ye,Ze),document.removeEventListener("touchstart",Ye,Ze)))}let Vt,At;function Xe(e){const t=e.split(" ");return t.length!==2?!1:["top","center","bottom"].includes(t[0])!==!0?(console.error("Anchor/Self position must start with one of top/center/bottom"),!1):["left","middle","right","start","end"].includes(t[1])!==!0?(console.error("Anchor/Self position must end with one of left/middle/right/start/end"),!1):!0}function pn(e){return e?!(e.length!==2||typeof e[0]!="number"||typeof e[1]!="number"):!0}const ht={"start#ltr":"left","start#rtl":"right","end#ltr":"right","end#rtl":"left"};["left","middle","right"].forEach(e=>{ht[`${e}#ltr`]=e,ht[`${e}#rtl`]=e});function Je(e,t){const n=e.split(" ");return{vertical:n[0],horizontal:ht[`${n[1]}#${t===!0?"rtl":"ltr"}`]}}function bo(e,t){let{top:n,left:o,right:i,bottom:a,width:l,height:r}=e.getBoundingClientRect();return t!==void 0&&(n-=t[1],o-=t[0],a+=t[1],i+=t[0],l+=t[0],r+=t[1]),{top:n,left:o,right:i,bottom:a,width:l,height:r,middle:o+(i-o)/2,center:n+(a-n)/2}}function ko(e){return{top:0,center:e.offsetHeight/2,bottom:e.offsetHeight,left:0,middle:e.offsetWidth/2,right:e.offsetWidth}}function bn(e){if(ot.is.ios===!0&&window.visualViewport!==void 0){const r=document.body.style,{offsetLeft:s,offsetTop:d}=window.visualViewport;s!==Vt&&(r.setProperty("--q-pe-left",s+"px"),Vt=s),d!==At&&(r.setProperty("--q-pe-top",d+"px"),At=d)}let t;const{scrollLeft:n,scrollTop:o}=e.el;if(e.absoluteOffset===void 0)t=bo(e.anchorEl,e.cover===!0?[0,0]:e.offset);else{const{top:r,left:s}=e.anchorEl.getBoundingClientRect(),d=r+e.absoluteOffset.top,g=s+e.absoluteOffset.left;t={top:d,left:g,width:1,height:1,right:g+1,center:d,middle:g,bottom:d+1}}let i={maxHeight:e.maxHeight,maxWidth:e.maxWidth,visibility:"visible"};(e.fit===!0||e.cover===!0)&&(i.minWidth=t.width+"px",e.cover===!0&&(i.minHeight=t.height+"px")),Object.assign(e.el.style,i);const a=ko(e.el),l={top:t[e.anchorOrigin.vertical]-a[e.selfOrigin.vertical],left:t[e.anchorOrigin.horizontal]-a[e.selfOrigin.horizontal]};wo(l,t,a,e.anchorOrigin,e.selfOrigin),i={top:l.top+"px",left:l.left+"px"},l.maxHeight!==void 0&&(i.maxHeight=l.maxHeight+"px",t.height>l.maxHeight&&(i.minHeight=i.maxHeight)),l.maxWidth!==void 0&&(i.maxWidth=l.maxWidth+"px",t.width>l.maxWidth&&(i.minWidth=i.maxWidth)),Object.assign(e.el.style,i),e.el.scrollTop!==o&&(e.el.scrollTop=o),e.el.scrollLeft!==n&&(e.el.scrollLeft=n)}function wo(e,t,n,o,i){const a=n.bottom,l=n.right,r=lo(),s=window.innerHeight-r,d=document.body.clientWidth;if(e.top<0||e.top+a>s)if(i.vertical==="center")e.top=t[o.vertical]>s/2?Math.max(0,s-a):0,e.maxHeight=Math.min(a,s);else if(t[o.vertical]>s/2){const g=Math.min(s,o.vertical==="center"?t.center:o.vertical===i.vertical?t.bottom:t.top);e.maxHeight=Math.min(a,g),e.top=Math.max(0,g-a)}else e.top=Math.max(0,o.vertical==="center"?t.center:o.vertical===i.vertical?t.top:t.bottom),e.maxHeight=Math.min(a,s-e.top);if(e.left<0||e.left+l>d)if(e.maxWidth=Math.min(l,d),i.horizontal==="middle")e.left=t[o.horizontal]>d/2?Math.max(0,d-l):0;else if(t[o.horizontal]>d/2){const g=Math.min(d,o.horizontal==="middle"?t.middle:o.horizontal===i.horizontal?t.right:t.left);e.maxWidth=Math.min(l,g),e.left=Math.max(0,g-e.maxWidth)}else e.left=Math.max(0,o.horizontal==="middle"?t.middle:o.horizontal===i.horizontal?t.left:t.right),e.maxWidth=Math.min(l,d-e.left)}var Dt=de({name:"QTooltip",inheritAttrs:!1,props:{...dn,..._t,...Bt,maxHeight:{type:String,default:null},maxWidth:{type:String,default:null},transitionShow:{default:"jump-down"},transitionHide:{default:"jump-up"},anchor:{type:String,default:"bottom middle",validator:Xe},self:{type:String,default:"top middle",validator:Xe},offset:{type:Array,default:()=>[14,14],validator:pn},scrollTarget:{default:void 0},delay:{type:Number,default:0},hideDelay:{type:Number,default:0}},emits:[...Ct],setup(e,{slots:t,emit:n,attrs:o}){let i,a;const l=ie(),{proxy:{$q:r}}=l,s=M(null),d=M(!1),g=m(()=>Je(e.anchor,r.lang.rtl)),k=m(()=>Je(e.self,r.lang.rtl)),p=m(()=>e.persistent!==!0),{registerTick:f,removeTick:S}=Et(),{registerTimeout:D,removeTimeout:y}=St(),{transition:C,transitionStyle:W}=hn(e,d),{localScrollTarget:B,changeScrollEvent:z,unconfigureScrollTarget:T}=fn(e,G),{anchorEl:u,canShow:h,anchorEvents:b}=cn({showing:d,configureAnchorEl:O}),{show:q,hide:w}=qt({showing:d,canShow:h,handleShow:N,handleHide:K,hideOnRouteChange:p,processOnMount:!0});Object.assign(b,{delayShow:R,delayHide:v});const{showPortal:x,hidePortal:F,renderPortal:E}=Rt(l,s,Z);if(r.platform.is.mobile===!0){const j={anchorEl:u,innerRef:s,onClickOutside(ae){return w(ae),ae.target.classList.contains("q-dialog__backdrop")&&lt(ae),!0}},pe=m(()=>e.modelValue===null&&e.persistent!==!0&&d.value===!0);L(pe,ae=>{(ae===!0?yn:Ge)(j)}),ue(()=>{Ge(j)})}function N(j){S(),y(),x(),f(()=>{a=new MutationObserver(()=>c()),a.observe(s.value,{attributes:!1,childList:!0,characterData:!0,subtree:!0}),c(),G()}),i===void 0&&(i=L(()=>r.screen.width+"|"+r.screen.height+"|"+e.self+"|"+e.anchor+"|"+r.lang.rtl,c)),D(()=>{x(!0),n("show",j)},e.transitionDuration)}function K(j){S(),y(),F(),J(),D(()=>{F(!0),n("hide",j)},e.transitionDuration)}function J(){a!==void 0&&(a.disconnect(),a=void 0),i!==void 0&&(i(),i=void 0),T(),dt(b,"tooltipTemp")}function c(){const j=s.value;u.value===null||!j||bn({el:j,offset:e.offset,anchorEl:u.value,anchorOrigin:g.value,selfOrigin:k.value,maxHeight:e.maxHeight,maxWidth:e.maxWidth})}function R(j){if(r.platform.is.mobile===!0){vt(),document.body.classList.add("non-selectable");const pe=u.value,ae=["touchmove","touchcancel","touchend","click"].map(ce=>[pe,ce,"delayHide","passiveCapture"]);Ke(b,"tooltipTemp",ae)}D(()=>{q(j)},e.delay)}function v(j){y(),r.platform.is.mobile===!0&&(dt(b,"tooltipTemp"),vt(),setTimeout(()=>{document.body.classList.remove("non-selectable")},10)),D(()=>{w(j)},e.hideDelay)}function O(){if(e.noParentEvent===!0||u.value===null)return;const j=r.platform.is.mobile===!0?[[u.value,"touchstart","delayShow","passive"]]:[[u.value,"mouseenter","delayShow","passive"],[u.value,"mouseleave","delayHide","passive"]];Ke(b,"anchor",j)}function G(){if(u.value!==null||e.scrollTarget!==void 0){B.value=un(u.value,e.scrollTarget);const j=e.noParentEvent===!0?c:w;z(B.value,j)}}function te(){return d.value===!0?$("div",{...o,ref:s,class:["q-tooltip q-tooltip--style q-position-engine no-pointer-events",o.class],style:[o.style,W.value],role:"complementary"},re(t.default)):null}function Z(){return $(Ae,{name:C.value,appear:!0},te)}return ue(J),Object.assign(l.proxy,{updatePosition:c}),E}});const xo={position:{type:String,default:"bottom-right",validator:e=>["top-right","top-left","bottom-right","bottom-left","top","right","bottom","left"].includes(e)},offset:{type:Array,validator:e=>e.length===2},expand:Boolean};function _o(){const{props:e,proxy:t}=ie(),{$q:n}=t,o=De(nn,()=>{console.error("QPageSticky needs to be child of QLayout")}),i=m(()=>{const p=e.position;return{top:p.indexOf("top")>-1,right:p.indexOf("right")>-1,bottom:p.indexOf("bottom")>-1,left:p.indexOf("left")>-1,vertical:p==="top"||p==="bottom",horizontal:p==="left"||p==="right"}}),a=m(()=>o.header.offset),l=m(()=>o.right.offset),r=m(()=>o.footer.offset),s=m(()=>o.left.offset),d=m(()=>{let p=0,f=0;const S=i.value,D=n.lang.rtl===!0?-1:1;S.top===!0&&a.value!==0?f=`${a.value}px`:S.bottom===!0&&r.value!==0&&(f=`${-r.value}px`),S.left===!0&&s.value!==0?p=`${D*s.value}px`:S.right===!0&&l.value!==0&&(p=`${-D*l.value}px`);const y={transform:`translate(${p}, ${f})`};return e.offset&&(y.margin=`${e.offset[1]}px ${e.offset[0]}px`),S.vertical===!0?(s.value!==0&&(y[n.lang.rtl===!0?"right":"left"]=`${s.value}px`),l.value!==0&&(y[n.lang.rtl===!0?"left":"right"]=`${l.value}px`)):S.horizontal===!0&&(a.value!==0&&(y.top=`${a.value}px`),r.value!==0&&(y.bottom=`${r.value}px`)),y}),g=m(()=>`q-page-sticky row flex-center fixed-${e.position} q-page-sticky--${e.expand===!0?"expand":"shrink"}`);function k(p){const f=re(p.default);return $("div",{class:g.value,style:d.value},e.expand===!0?f:[$("div",f)])}return{$layout:o,getStickyContent:k}}var kn=de({name:"QPageSticky",props:xo,setup(e,{slots:t}){const{getStickyContent:n}=_o();return()=>n(t)}}),Co=de({name:"QPage",props:{padding:Boolean,styleFn:Function},setup(e,{slots:t}){const{proxy:{$q:n}}=ie(),o=De(nn);De(On,()=>{console.error("QPage needs to be child of QPageContainer")});const i=m(()=>{const l=(o.header.space===!0?o.header.size:0)+(o.footer.space===!0?o.footer.size:0);if(typeof e.styleFn=="function"){const r=o.isContainer.value===!0?o.containerHeight.value:n.screen.height;return e.styleFn(l,r)}return{minHeight:o.isContainer.value===!0?o.containerHeight.value-l+"px":n.screen.height===0?l!==0?`calc(100vh - ${l}px)`:"100vh":n.screen.height-l+"px"}}),a=m(()=>`q-page ${e.padding===!0?" q-layout-padding":""}`);return()=>$("main",{class:a.value,style:i.value},re(t.default))}}),Be=(e=>(e[e.default=0]="default",e[e.binary=1]="binary",e[e.dice=2]="dice",e[e.hex=3]="hex",e[e.yesno=4]="yesno",e[e.note=5]="note",e))(Be||{});class Te{constructor(){_(this,"id",-1);_(this,"name","");_(this,"material_icon","");_(this,"override",{});_(this,"quick",[]);_(this,"default_max",-1);_(this,"summable",!0);_(this,"mappings");_(this,"quick_label",[])}coonstructor(){this.createQuickLabels()}createQuickLabels(){if(this.quick.length!=this.quick_label.length)for(const t of this.quick)this.quick_label.push(t.toString())}formatValue(t){return t.toLocaleString()}displayValue(t,n){if(this.mappings&&n!==void 0&&Object.keys(this.mappings).includes(n.toString())){const o=this.mappings[n];return console.log(t," ",n," ",this.mappings),!this.override.zerobase&&t>0&&t--,t>=n&&(t=t%n),console.log(t," ",n," ",o),o[t]}return this.formatValue(t)}historyValue(t,n){return this.displayValue(t,n)}displayMulti(t,n){return this.summable?this._displayMultiWithTotal(t,n):this._displayMultiValsOnly(t,n)}_displayMultiWithTotal(t,n){const o=this.displayValue(t.reduce((a,l)=>a+l)),i=t.map(a=>this.displayValue(a,n));return o+" ("+i.join(",")+")"}_displayMultiValsOnly(t,n){return t.map(i=>this.displayValue(i,n)).join(",")}}class So extends Te{constructor(){super(...arguments);_(this,"id",0);_(this,"name","Normal");_(this,"material_icon","tag");_(this,"override",{zerobase:!1,exclusive:!1});_(this,"quick",[2,3,4,5,6,7,8,9,10,12,15,20,30,50,100,256,1e3,1e6]);_(this,"default_max",10)}}class qo extends Te{constructor(){super(...arguments);_(this,"id",1);_(this,"name","Binary");_(this,"material_icon","share");_(this,"override",{zerobase:!0,exclusive:!1});_(this,"quick",[2,4,8,16,32,64,256,256*256]);_(this,"default_max",256)}displayValue(n,o){return this.formatValue(n).padStart(o.toString(2).length,"0")}formatValue(n){return n.toString(2)}historyValue(n,o){return"b"+this.displayValue(n,o)}}class $o extends Te{constructor(){super(...arguments);_(this,"id",1);_(this,"name","Dice");_(this,"material_icon","casino");_(this,"override",{zerobase:!1,exclusive:!1,min:1});_(this,"quick",[2,4,6,8,10,12,20,100]);_(this,"default_max",6)}}class Mo extends Te{constructor(){super(...arguments);_(this,"id",3);_(this,"name","Hexidecimal");_(this,"material_icon","hexagon");_(this,"override",{zerobase:!0,exclusive:!0});_(this,"quick",[16,32,64,128,256,1024,2048,4096,8192,65536,1048576,16777216]);_(this,"default_max",256)}formatValue(n){return n.toString(16)}historyValue(n,o){return"x"+this.displayValue(n,o)}}class Ro extends Te{constructor(){super(...arguments);_(this,"id",4);_(this,"name","Yes/No");_(this,"material_icon","help");_(this,"override",{zerobase:!0,exclusive:!0});_(this,"summable",!1);_(this,"mappings",{[2]:["No","Yes"],[3]:["No","Yes","Maybe"],[4]:["No","Yes","Probably not","Probably"],[5]:["No","Yes","Probably not","Probably","Whatever"]});_(this,"quick",[2,3,4,5]);_(this,"default_max",2)}}class Bo extends Te{constructor(){super(...arguments);_(this,"id",5);_(this,"name","Musical Note");_(this,"material_icon","music_note");_(this,"override",{zerobase:!1,exclusive:!1,min:1,max:12});_(this,"summable",!1);_(this,"mappings",{[7]:["A","B","C","D","E","F","G"],[12]:["A","A&#x266f/B&#x266d;","B","C","C&#x266f/D&#x266d;","D","D&#x266f/E&#x266d;","E","F","F&#x266f/G&#x266d;","G","G&#x266f/A&#x266d;"]});_(this,"quick",[7,12]);_(this,"default_max",2)}}const $e={[0]:new So,[1]:new qo,[3]:new Mo,[2]:new $o,[5]:new Bo,[4]:new Ro},rt=1,Pt=6,Ot=1,Ft=1,Lt=0,zt=1,Le="Xx\xD7*",We="/\xF7",Eo=new RegExp(`\\b((?<repeat>\\d+)[${Le}]\\(?)?(?<rolls>\\d*)[dD](?<max>-?\\d*)(>(?<min>-?\\d+))?((?<mult>[${Le}${We}]\\d+)(?<mod>[+-]\\d+)|(?<mod1>[+-]\\d+)(?<mult1>[${Le}${We}]\\d+)|(?<mod2>[+-]\\d+)|(?<mult2>[${Le}${We}]\\d+))?(?<flag1>[xXzZ])?(?<flag2>[xXzZ])?\\b`);class _e{constructor(t=rt,n=Pt,o=Ot,i=Lt,a=Ft,l=zt,r=!1,s=!1){_(this,"min");_(this,"max");_(this,"dice");_(this,"mod");_(this,"mult");_(this,"repeat");_(this,"zerobase");_(this,"exclusive");_(this,"parsedText");_(this,"result");_(this,"results");_(this,"rid");if(this.min=rt,this.max=n,this.dice=o,this.mod=i,this.mult=a,this.repeat=l,this.zerobase=s,this.exclusive=r,this.result=null,this.results=[],this.parsedText="",typeof t=="string"){if(this.parse(t)===null)throw new Error("Invalid dice notation")}else this.min=t;this.rid=Math.random()}getResult(){return this.result===null?-1:this.result}getThrow(t=1){return this.results.length>=t?this.results[t-1].slice(1):[]}getRange(t=!1){let n=this.min,o=this.max;return t||(n=(Math.ceil(this.dice*this.mult)+this.mod)*this.repeat,o=(Math.ceil(this.max*this.dice*this.mult)+this.mod)*this.repeat),this.exclusive&&o--,[n,o]}getRangeString(t=!1,n=",",o=!1){const[i,a]=this.getRange(t);return"["+i+n+(o||!this.exclusive?""+a+"]":""+(a+1)+")")}throw(){const t=[0],n=this.exclusive?this.max:this.max+1;for(let o=0;o<this.dice;o++)t.push(Math.floor(Math.random()*(n-this.min))+this.min),t[0]+=t[t.length-1];return t[0]=Math.ceil(t[0]*this.mult),t[0]+=this.mod,t}roll(){if(this.results=[this.throw()],this.result=this.results[0][0],this.repeat>1)for(let t=1;t<this.repeat;t++)this.results.push(this.throw()),this.result+=this.results[this.results.length-1][0];return this}clone(t,n,o,i,a,l,r,s){return new _e(t||this.min,n||this.max,o||this.dice,i||this.mod,a||this.mult,l||this.repeat,r||this.exclusive,s||this.zerobase)}equals(t){return this.min===t.min&&this.max===t.max&&this.dice===t.dice&&this.mod===t.mod&&this.mult===t.mult&&this.repeat===t.repeat&&this.exclusive===t.exclusive&&this.zerobase===t.zerobase}toString(t=!1){let n=`${this.dice}d${this.max}`;return this.min!==1&&(this.min===0&&this.zerobase||(n+=">"+this.min)),this.mult>1&&(n+="x"+this.mult),this.mult>0&&this.mult<1&&(n+="/"+Math.round(1/this.mult)),this.mod>0&&(n+="+"+this.mod),this.mod<0&&(n+=this.mod),this.repeat>1&&(n=`${this.repeat}x(${n})`),t&&(this.max===6&&(n=n.replace("d6","d")),this.dice===1&&(n=n.replace("1d","d"))),this.exclusive&&(n+="x"),this.min===0&&this.zerobase&&(n+="z"),n}parse(t){var o,i,a,l,r,s,d,g,k,p,f,S;const n=Eo.exec(t);if(n){this.parsedText=t,this.repeat=(o=n.groups)!=null&&o.repeat?+n.groups.repeat:zt,this.dice=(i=n.groups)!=null&&i.rolls?+n.groups.rolls:Ot,this.mod=+(((a=n.groups)==null?void 0:a.mod2)||((l=n.groups)==null?void 0:l.mod1)||((r=n.groups)==null?void 0:r.mod)||Lt),this.max=(s=n.groups)!=null&&s.max?+n.groups.max:Pt,this.min=(d=n.groups)!=null&&d.min?+n.groups.min:rt,this.min>this.max&&([this.min,this.max]=[this.max,this.min]),this.mult=Ft;const D=((g=n.groups)==null?void 0:g.mult2)||((k=n.groups)==null?void 0:k.mult1)||((p=n.groups)==null?void 0:p.mult);return D&&(We.indexOf(D[0])>=0?this.mult=1/+D.slice(1):this.mult=+D.slice(1)),this.exclusive=!1,this.zerobase=!1,[(f=n.groups)==null?void 0:f.flag1,(S=n.groups)==null?void 0:S.flag2].map(y=>{var C;return y&&(y.toLowerCase()==="x"&&(this.exclusive=!0),y.toLowerCase()==="z"&&(((C=n.groups)==null?void 0:C.min)===void 0||this.min===0)&&(this.zerobase=!0,this.min=0)),y}),this.rid=Math.random(),this}return null}}var To=de({name:"QItemSection",props:{avatar:Boolean,thumbnail:Boolean,side:Boolean,top:Boolean,noWrap:Boolean},setup(e,{slots:t}){const n=m(()=>`q-item__section column q-item__section--${e.avatar===!0||e.side===!0||e.thumbnail===!0?"side":"main"}`+(e.top===!0?" q-item__section--top justify-start":" justify-center")+(e.avatar===!0?" q-item__section--avatar":"")+(e.thumbnail===!0?" q-item__section--thumbnail":"")+(e.noWrap===!0?" q-item__section--nowrap":""));return()=>$("div",{class:n.value},re(t.default))}}),Vo=de({name:"QBtnGroup",props:{unelevated:Boolean,outline:Boolean,flat:Boolean,rounded:Boolean,push:Boolean,stretch:Boolean,glossy:Boolean,spread:Boolean},setup(e,{slots:t}){const n=m(()=>{const o=["unelevated","outline","flat","rounded","push","stretch","glossy"].filter(i=>e[i]===!0).map(i=>`q-btn-group--${i}`).join(" ");return`q-btn-group row no-wrap${o.length>0?" "+o:""}`+(e.spread===!0?" q-btn-group--spread":" inline")});return()=>$("div",{class:n.value},re(t.default))}});const Ce=[];let Ee;function Ao(e){Ee=e.keyCode===27}function Do(){Ee===!0&&(Ee=!1)}function Po(e){Ee===!0&&(Ee=!1,xt(e,27)===!0&&Ce[Ce.length-1](e))}function wn(e){window[e]("keydown",Ao),window[e]("blur",Do),window[e]("keyup",Po),Ee=!1}function xn(e){ot.is.desktop===!0&&(Ce.push(e),Ce.length===1&&wn("addEventListener"))}function et(e){const t=Ce.indexOf(e);t>-1&&(Ce.splice(t,1),Ce.length===0&&wn("removeEventListener"))}const Se=[];function _n(e){Se[Se.length-1](e)}function Cn(e){ot.is.desktop===!0&&(Se.push(e),Se.length===1&&document.body.addEventListener("focusin",_n))}function gt(e){const t=Se.indexOf(e);t>-1&&(Se.splice(t,1),Se.length===0&&document.body.removeEventListener("focusin",_n))}var Oo=de({name:"QMenu",inheritAttrs:!1,props:{...dn,..._t,...$t,...Bt,persistent:Boolean,autoClose:Boolean,separateClosePopup:Boolean,noRouteDismiss:Boolean,noRefocus:Boolean,noFocus:Boolean,fit:Boolean,cover:Boolean,square:Boolean,anchor:{type:String,validator:Xe},self:{type:String,validator:Xe},offset:{type:Array,validator:pn},scrollTarget:{default:void 0},touchPosition:Boolean,maxHeight:{type:String,default:null},maxWidth:{type:String,default:null}},emits:[...Ct,"click","escape-key"],setup(e,{slots:t,emit:n,attrs:o}){let i=null,a,l,r;const s=ie(),{proxy:d}=s,{$q:g}=d,k=M(null),p=M(!1),f=m(()=>e.persistent!==!0&&e.noRouteDismiss!==!0),S=Mt(e,g),{registerTick:D,removeTick:y}=Et(),{registerTimeout:C,removeTimeout:W}=St(),{transition:B,transitionStyle:z}=hn(e,p),{localScrollTarget:T,changeScrollEvent:u,unconfigureScrollTarget:h}=fn(e,j),{anchorEl:b,canShow:q}=cn({showing:p}),{hide:w}=qt({showing:p,canShow:q,handleShow:G,handleHide:te,hideOnRouteChange:f,processOnMount:!0}),{showPortal:x,hidePortal:F,renderPortal:E}=Rt(s,k,H),N={anchorEl:b,innerRef:k,onClickOutside(V){if(e.persistent!==!0&&p.value===!0)return w(V),(V.type==="touchstart"||V.target.classList.contains("q-dialog__backdrop"))&&lt(V),!0}},K=m(()=>Je(e.anchor||(e.cover===!0?"center middle":"bottom start"),g.lang.rtl)),J=m(()=>e.cover===!0?K.value:Je(e.self||"top start",g.lang.rtl)),c=m(()=>(e.square===!0?" q-menu--square":"")+(S.value===!0?" q-menu--dark q-dark":"")),R=m(()=>e.autoClose===!0?{onClick:pe}:{}),v=m(()=>p.value===!0&&e.persistent!==!0);L(v,V=>{V===!0?(xn(ce),yn(N)):(et(ce),Ge(N))});function O(){at(()=>{let V=k.value;V&&V.contains(document.activeElement)!==!0&&(V=V.querySelector("[autofocus], [data-autofocus]")||V,V.focus({preventScroll:!0}))})}function G(V){if(y(),W(),i=e.noRefocus===!1?document.activeElement:null,Cn(ae),x(),j(),a=void 0,V!==void 0&&(e.touchPosition||e.contextMenu)){const ke=Fn(V);if(ke.left!==void 0){const{top:Fe,left:Ve}=b.value.getBoundingClientRect();a={left:ke.left-Ve,top:ke.top-Fe}}}l===void 0&&(l=L(()=>g.screen.width+"|"+g.screen.height+"|"+e.self+"|"+e.anchor+"|"+g.lang.rtl,be)),e.noFocus!==!0&&document.activeElement.blur(),D(()=>{be(),e.noFocus!==!0&&O()}),C(()=>{g.platform.is.ios===!0&&(r=e.autoClose,k.value.click()),be(),x(!0),n("show",V)},e.transitionDuration)}function te(V){y(),W(),F(),Z(!0),i!==null&&(V===void 0||V.qClickOutside!==!0)&&(i.focus(),i=null),C(()=>{F(!0),n("hide",V)},e.transitionDuration)}function Z(V){a=void 0,l!==void 0&&(l(),l=void 0),(V===!0||p.value===!0)&&(gt(ae),h(),Ge(N),et(ce)),V!==!0&&(i=null)}function j(){(b.value!==null||e.scrollTarget!==void 0)&&(T.value=un(b.value,e.scrollTarget),u(T.value,be))}function pe(V){r!==!0?(vn(d,V),n("click",V)):r=!1}function ae(V){v.value===!0&&e.noFocus!==!0&&on(k.value,V.target)!==!0&&O()}function ce(V){n("escape-key"),w(V)}function be(){const V=k.value;V===null||b.value===null||bn({el:V,offset:e.offset,anchorEl:b.value,anchorOrigin:K.value,selfOrigin:J.value,absoluteOffset:a,fit:e.fit,cover:e.cover,maxHeight:e.maxHeight,maxWidth:e.maxWidth})}function H(){return $(Ae,{name:B.value,appear:!0},()=>p.value===!0?$("div",{...o,ref:k,tabindex:-1,class:["q-menu q-position-engine scroll"+c.value,o.class],style:[o.style,z.value],...R.value},re(t.default)):null)}return ue(Z),Object.assign(d,{focus:O,updatePosition:be}),E}}),Fo=de({name:"QBtnDropdown",props:{...Ln,modelValue:Boolean,split:Boolean,dropdownIcon:String,contentClass:[Array,String,Object],contentStyle:[Array,String,Object],cover:Boolean,persistent:Boolean,noRouteDismiss:Boolean,autoClose:Boolean,menuAnchor:{type:String,default:"bottom end"},menuSelf:{type:String,default:"top end"},menuOffset:Array,disableMainBtn:Boolean,disableDropdown:Boolean,noIconAnimation:Boolean},emits:["update:modelValue","click","before-show","show","before-hide","hide"],setup(e,{slots:t,emit:n}){const{proxy:o}=ie(),i=M(e.modelValue),a=M(null),l=m(()=>{const C={"aria-expanded":i.value===!0?"true":"false","aria-haspopup":"true"};return(e.disable===!0||e.split===!1&&e.disableMainBtn===!0||e.disableDropdown===!0)&&(C["aria-disabled"]="true"),C}),r=m(()=>"q-btn-dropdown__arrow"+(i.value===!0&&e.noIconAnimation===!1?" rotate-180":"")+(e.split===!1?" q-btn-dropdown__arrow-container":""));L(()=>e.modelValue,C=>{a.value!==null&&a.value[C?"show":"hide"]()}),L(()=>e.split,y);function s(C){i.value=!0,n("before-show",C)}function d(C){n("show",C),n("update:modelValue",!0)}function g(C){i.value=!1,n("before-hide",C)}function k(C){n("hide",C),n("update:modelValue",!1)}function p(C){n("click",C)}function f(C){ft(C),y(),n("click",C)}function S(C){a.value!==null&&a.value.toggle(C)}function D(C){a.value!==null&&a.value.show(C)}function y(C){a.value!==null&&a.value.hide(C)}return Object.assign(o,{show:D,hide:y,toggle:S}),nt(()=>{e.modelValue===!0&&D()}),()=>{const C=[$(ye,{class:r.value,name:e.dropdownIcon||o.$q.iconSet.arrow.dropdown})];return e.disableDropdown!==!0&&C.push($(Oo,{ref:a,class:e.contentClass,style:e.contentStyle,cover:e.cover,fit:!0,persistent:e.persistent,noRouteDismiss:e.noRouteDismiss,autoClose:e.autoClose,anchor:e.menuAnchor,self:e.menuSelf,offset:e.menuOffset,separateClosePopup:!0,onBeforeShow:s,onShow:d,onBeforeHide:g,onHide:k},t.default)),e.split===!1?$(le,{class:"q-btn-dropdown q-btn-dropdown--simple",...e,disable:e.disable===!0||e.disableMainBtn===!0,noWrap:!0,round:!1,...l.value,onClick:p},()=>re(t.label,[]).concat(C)):$(Vo,{class:"q-btn-dropdown q-btn-dropdown--split no-wrap q-btn-item",outline:e.outline,flat:e.flat,rounded:e.rounded,push:e.push,unelevated:e.unelevated,glossy:e.glossy,stretch:e.stretch},()=>[$(le,{class:"q-btn-dropdown--current",...e,disable:e.disable===!0||e.disableMainBtn===!0,noWrap:!0,iconRight:e.iconRight,round:!1,onClick:f},t.label),$(le,{class:"q-btn-dropdown__arrow-container q-anchor--skip",...l.value,disable:e.disable===!0||e.disableDropdown===!0,outline:e.outline,flat:e.flat,rounded:e.rounded,push:e.push,size:e.size,color:e.color,textColor:e.textColor,dense:e.dense,ripple:e.ripple},()=>C)])}}});function Nt(e){if(e===!1)return 0;if(e===!0||e===void 0)return 1;const t=parseInt(e,10);return isNaN(t)?0:t}var Lo=zn({name:"close-popup",beforeMount(e,{value:t}){const n={depth:Nt(t),handler(o){n.depth!==0&&setTimeout(()=>{const i=go(e);i!==void 0&&yo(i,o,n.depth)})},handlerKey(o){xt(o,13)===!0&&n.handler(o)}};e.__qclosepopup=n,e.addEventListener("click",n.handler),e.addEventListener("keyup",n.handlerKey)},updated(e,{value:t,oldValue:n}){t!==n&&(e.__qclosepopup.depth=Nt(t))},beforeUnmount(e){const t=e.__qclosepopup;e.removeEventListener("click",t.handler),e.removeEventListener("keyup",t.handlerKey),delete e.__qclosepopup}});function zo({validate:e,resetValidation:t,requiresQForm:n}){const o=De(Nn,!1);if(o!==!1){const{props:i,proxy:a}=ie();Object.assign(a,{validate:e,resetValidation:t}),L(()=>i.disable,l=>{l===!0?(typeof t=="function"&&t(),o.unbindComponent(a)):o.bindComponent(a)}),i.disable!==!0&&o.bindComponent(a),ue(()=>{i.disable!==!0&&o.unbindComponent(a)})}else n===!0&&console.error("Parent QForm not found on useFormChild()!")}const Ht=/^#[0-9a-fA-F]{3}([0-9a-fA-F]{3})?$/,It=/^#[0-9a-fA-F]{4}([0-9a-fA-F]{4})?$/,jt=/^#([0-9a-fA-F]{3}|[0-9a-fA-F]{4}|[0-9a-fA-F]{6}|[0-9a-fA-F]{8})$/,ze=/^rgb\(((0|[1-9][\d]?|1[\d]{0,2}|2[\d]?|2[0-4][\d]|25[0-5]),){2}(0|[1-9][\d]?|1[\d]{0,2}|2[\d]?|2[0-4][\d]|25[0-5])\)$/,Ne=/^rgba\(((0|[1-9][\d]?|1[\d]{0,2}|2[\d]?|2[0-4][\d]|25[0-5]),){2}(0|[1-9][\d]?|1[\d]{0,2}|2[\d]?|2[0-4][\d]|25[0-5]),(0|0\.[0-9]+[1-9]|0\.[1-9]+|1)\)$/,Qt={date:e=>/^-?[\d]+\/[0-1]\d\/[0-3]\d$/.test(e),time:e=>/^([0-1]?\d|2[0-3]):[0-5]\d$/.test(e),fulltime:e=>/^([0-1]?\d|2[0-3]):[0-5]\d:[0-5]\d$/.test(e),timeOrFulltime:e=>/^([0-1]?\d|2[0-3]):[0-5]\d(:[0-5]\d)?$/.test(e),email:e=>/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(e),hexColor:e=>Ht.test(e),hexaColor:e=>It.test(e),hexOrHexaColor:e=>jt.test(e),rgbColor:e=>ze.test(e),rgbaColor:e=>Ne.test(e),rgbOrRgbaColor:e=>ze.test(e)||Ne.test(e),hexOrRgbColor:e=>Ht.test(e)||ze.test(e),hexaOrRgbaColor:e=>It.test(e)||Ne.test(e),anyColor:e=>jt.test(e)||ze.test(e)||Ne.test(e)};function No(e){const t=document.createElement("textarea");t.value=e,t.contentEditable="true",t.style.position="fixed",document.body.appendChild(t),t.focus(),t.select();const n=document.execCommand("copy");return t.remove(),n}function Ho(e){return navigator.clipboard!==void 0?navigator.clipboard.writeText(e):new Promise((t,n)=>{const o=No(e);o?t(!0):n(o)})}"Boolean Number String Function Array Date RegExp Object".split(" ").forEach(e=>{e.toLowerCase()});const Io={...ln,min:{type:Number,default:0},max:{type:Number,default:100},color:String,centerColor:String,trackColor:String,fontSize:String,thickness:{type:Number,default:.2,validator:e=>e>=0&&e<=1},angle:{type:Number,default:0},showValue:Boolean,reverse:Boolean,instantFeedback:Boolean},yt=50,Sn=2*yt,qn=Sn*Math.PI,jo=Math.round(qn*1e3)/1e3;de({name:"QCircularProgress",props:{...Io,value:{type:Number,default:0},animationSpeed:{type:[String,Number],default:600},indeterminate:Boolean},setup(e,{slots:t}){const{proxy:{$q:n}}=ie(),o=an(e),i=m(()=>{const p=(n.lang.rtl===!0?-1:1)*e.angle;return{transform:e.reverse!==(n.lang.rtl===!0)?`scale3d(-1, 1, 1) rotate3d(0, 0, 1, ${-90-p}deg)`:`rotate3d(0, 0, 1, ${p-90}deg)`}}),a=m(()=>e.instantFeedback!==!0&&e.indeterminate!==!0?{transition:`stroke-dashoffset ${e.animationSpeed}ms ease 0s, stroke ${e.animationSpeed}ms ease`}:""),l=m(()=>Sn/(1-e.thickness/2)),r=m(()=>`${l.value/2} ${l.value/2} ${l.value} ${l.value}`),s=m(()=>io(e.value,e.min,e.max)),d=m(()=>qn*(1-(s.value-e.min)/(e.max-e.min))),g=m(()=>e.thickness/2*l.value);function k({thickness:p,offset:f,color:S,cls:D}){return $("circle",{class:"q-circular-progress__"+D+(S!==void 0?` text-${S}`:""),style:a.value,fill:"transparent",stroke:"currentColor","stroke-width":p,"stroke-dasharray":jo,"stroke-dashoffset":f,cx:l.value,cy:l.value,r:yt})}return()=>{const p=[];e.centerColor!==void 0&&e.centerColor!=="transparent"&&p.push($("circle",{class:`q-circular-progress__center text-${e.centerColor}`,fill:"currentColor",r:yt-g.value/2,cx:l.value,cy:l.value})),e.trackColor!==void 0&&e.trackColor!=="transparent"&&p.push(k({cls:"track",thickness:g.value,offset:0,color:e.trackColor})),p.push(k({cls:"circle",thickness:g.value,offset:d.value,color:e.color}));const f=[$("svg",{class:"q-circular-progress__svg",style:i.value,viewBox:r.value,"aria-hidden":"true"},p)];return e.showValue===!0&&f.push($("div",{class:"q-circular-progress__text absolute-full row flex-center content-center",style:{fontSize:e.fontSize}},t.default!==void 0?t.default():[$("div",s.value)])),$("div",{class:`q-circular-progress q-circular-progress--${e.indeterminate===!0?"in":""}determinate`,style:o.value,role:"progressbar","aria-valuemin":e.min,"aria-valuemax":e.max,"aria-valuenow":e.indeterminate===!0?void 0:s.value},rn(t.internal,f))}}});const Qo=["rejected"],Wo=[...Qo,"start","finish","added","removed"],Uo=()=>!0;function Ko(e){const t={};return e.forEach(n=>{t[n]=Uo}),t}Ko(Wo);let st,He=0;const ee=new Array(256);for(let e=0;e<256;e++)ee[e]=(e+256).toString(16).substring(1);const Zo=(()=>{const e=typeof crypto!="undefined"?crypto:typeof window!="undefined"?window.crypto||window.msCrypto:void 0;if(e!==void 0){if(e.randomBytes!==void 0)return e.randomBytes;if(e.getRandomValues!==void 0)return t=>{const n=new Uint8Array(t);return e.getRandomValues(n),n}}return t=>{const n=[];for(let o=t;o>0;o--)n.push(Math.floor(Math.random()*256));return n}})(),Wt=4096;function Yo(){(st===void 0||He+16>Wt)&&(He=0,st=Zo(Wt));const e=Array.prototype.slice.call(st,He,He+=16);return e[6]=e[6]&15|64,e[8]=e[8]&63|128,ee[e[0]]+ee[e[1]]+ee[e[2]]+ee[e[3]]+"-"+ee[e[4]]+ee[e[5]]+"-"+ee[e[6]]+ee[e[7]]+"-"+ee[e[8]]+ee[e[9]]+"-"+ee[e[10]]+ee[e[11]]+ee[e[12]]+ee[e[13]]+ee[e[14]]+ee[e[15]]}const Go=[!0,!1,"ondemand"],Xo={modelValue:{},error:{type:Boolean,default:null},errorMessage:String,noErrorIcon:Boolean,rules:Array,reactiveRules:Boolean,lazyRules:{type:[Boolean,String],validator:e=>Go.includes(e)}};function Jo(e,t){const{props:n,proxy:o}=ie(),i=M(!1),a=M(null),l=M(null);zo({validate:S,resetValidation:f});let r=0,s;const d=m(()=>n.rules!==void 0&&n.rules!==null&&n.rules.length>0),g=m(()=>n.disable!==!0&&d.value===!0),k=m(()=>n.error===!0||i.value===!0),p=m(()=>typeof n.errorMessage=="string"&&n.errorMessage.length>0?n.errorMessage:a.value);L(()=>n.modelValue,()=>{D()}),L(()=>n.reactiveRules,C=>{C===!0?s===void 0&&(s=L(()=>n.rules,()=>{D(!0)})):s!==void 0&&(s(),s=void 0)},{immediate:!0}),L(e,C=>{C===!0?l.value===null&&(l.value=!1):l.value===!1&&(l.value=!0,g.value===!0&&n.lazyRules!=="ondemand"&&t.value===!1&&y())});function f(){r++,t.value=!1,l.value=null,i.value=!1,a.value=null,y.cancel()}function S(C=n.modelValue){if(g.value!==!0)return!0;const W=++r;t.value!==!0&&n.lazyRules!==!0&&(l.value=!0);const B=(T,u)=>{i.value!==T&&(i.value=T);const h=u||void 0;a.value!==h&&(a.value=h),t.value=!1},z=[];for(let T=0;T<n.rules.length;T++){const u=n.rules[T];let h;if(typeof u=="function"?h=u(C):typeof u=="string"&&Qt[u]!==void 0&&(h=Qt[u](C)),h===!1||typeof h=="string")return B(!0,h),!1;h!==!0&&h!==void 0&&z.push(h)}return z.length===0?(B(!1),!0):(t.value=!0,Promise.all(z).then(T=>{if(T===void 0||Array.isArray(T)===!1||T.length===0)return W===r&&B(!1),!0;const u=T.find(h=>h===!1||typeof h=="string");return W===r&&B(u!==void 0,u),u===void 0},T=>(W===r&&(console.error(T),B(!0)),!1)))}function D(C){g.value===!0&&n.lazyRules!=="ondemand"&&(l.value===!0||n.lazyRules!==!0&&C!==!0)&&y()}const y=Hn(S,0);return ue(()=>{s!==void 0&&s(),y.cancel()}),Object.assign(o,{resetValidation:f,validate:S}),In(o,"hasError",()=>k.value),{isDirtyModel:l,hasRules:d,hasError:k,errorMessage:p,validate:S,resetValidation:f}}const Ut=/^on[A-Z]/;function el(e,t){const n={listeners:M({}),attributes:M({})};function o(){const i={},a={};for(const l in e)l!=="class"&&l!=="style"&&Ut.test(l)===!1&&(i[l]=e[l]);for(const l in t.props)Ut.test(l)===!0&&(a[l]=t.props[l]);n.attributes.value=i,n.listeners.value=a}return jn(o),o(),n}function pt(e){return e===void 0?`f_${Yo()}`:e}function bt(e){return e!=null&&(""+e).length>0}const tl={...$t,...Xo,label:String,stackLabel:Boolean,hint:String,hideHint:Boolean,prefix:String,suffix:String,labelColor:String,color:String,bgColor:String,filled:Boolean,outlined:Boolean,borderless:Boolean,standout:[Boolean,String],square:Boolean,loading:Boolean,labelSlot:Boolean,bottomSlots:Boolean,hideBottomSpace:Boolean,rounded:Boolean,dense:Boolean,itemAligned:Boolean,counter:Boolean,clearable:Boolean,clearIcon:String,disable:Boolean,readonly:Boolean,autofocus:Boolean,for:String,maxlength:[Number,String]},nl=["update:modelValue","clear","focus","blur","popup-show","popup-hide"];function ol(){const{props:e,attrs:t,proxy:n,vnode:o}=ie();return{isDark:Mt(e,n.$q),editable:m(()=>e.disable!==!0&&e.readonly!==!0),innerLoading:M(!1),focused:M(!1),hasPopupOpen:!1,splitAttrs:el(t,o),targetUid:M(pt(e.for)),rootRef:M(null),targetRef:M(null),controlRef:M(null)}}function ll(e){const{props:t,emit:n,slots:o,attrs:i,proxy:a}=ie(),{$q:l}=a;let r;e.hasValue===void 0&&(e.hasValue=m(()=>bt(t.modelValue))),e.emitValue===void 0&&(e.emitValue=c=>{n("update:modelValue",c)}),e.controlEvents===void 0&&(e.controlEvents={onFocusin:q,onFocusout:w}),Object.assign(e,{clearValue:x,onControlFocusin:q,onControlFocusout:w,focus:h}),e.computedCounter===void 0&&(e.computedCounter=m(()=>{if(t.counter!==!1){const c=typeof t.modelValue=="string"||typeof t.modelValue=="number"?(""+t.modelValue).length:Array.isArray(t.modelValue)===!0?t.modelValue.length:0,R=t.maxlength!==void 0?t.maxlength:t.maxValues;return c+(R!==void 0?" / "+R:"")}}));const{isDirtyModel:s,hasRules:d,hasError:g,errorMessage:k,resetValidation:p}=Jo(e.focused,e.innerLoading),f=e.floatingLabel!==void 0?m(()=>t.stackLabel===!0||e.focused.value===!0||e.floatingLabel.value===!0):m(()=>t.stackLabel===!0||e.focused.value===!0||e.hasValue.value===!0),S=m(()=>t.bottomSlots===!0||t.hint!==void 0||d.value===!0||t.counter===!0||t.error!==null),D=m(()=>t.filled===!0?"filled":t.outlined===!0?"outlined":t.borderless===!0?"borderless":t.standout?"standout":"standard"),y=m(()=>`q-field row no-wrap items-start q-field--${D.value}`+(e.fieldClass!==void 0?` ${e.fieldClass.value}`:"")+(t.rounded===!0?" q-field--rounded":"")+(t.square===!0?" q-field--square":"")+(f.value===!0?" q-field--float":"")+(W.value===!0?" q-field--labeled":"")+(t.dense===!0?" q-field--dense":"")+(t.itemAligned===!0?" q-field--item-aligned q-item-type":"")+(e.isDark.value===!0?" q-field--dark":"")+(e.getControl===void 0?" q-field--auto-height":"")+(e.focused.value===!0?" q-field--focused":"")+(g.value===!0?" q-field--error":"")+(g.value===!0||e.focused.value===!0?" q-field--highlighted":"")+(t.hideBottomSpace!==!0&&S.value===!0?" q-field--with-bottom":"")+(t.disable===!0?" q-field--disabled":t.readonly===!0?" q-field--readonly":"")),C=m(()=>"q-field__control relative-position row no-wrap"+(t.bgColor!==void 0?` bg-${t.bgColor}`:"")+(g.value===!0?" text-negative":typeof t.standout=="string"&&t.standout.length>0&&e.focused.value===!0?` ${t.standout}`:t.color!==void 0?` text-${t.color}`:"")),W=m(()=>t.labelSlot===!0||t.label!==void 0),B=m(()=>"q-field__label no-pointer-events absolute ellipsis"+(t.labelColor!==void 0&&g.value!==!0?` text-${t.labelColor}`:"")),z=m(()=>({id:e.targetUid.value,editable:e.editable.value,focused:e.focused.value,floatingLabel:f.value,modelValue:t.modelValue,emitValue:e.emitValue})),T=m(()=>{const c={for:e.targetUid.value};return t.disable===!0?c["aria-disabled"]="true":t.readonly===!0&&(c["aria-readonly"]="true"),c});L(()=>t.for,c=>{e.targetUid.value=pt(c)});function u(){const c=document.activeElement;let R=e.targetRef!==void 0&&e.targetRef.value;R&&(c===null||c.id!==e.targetUid.value)&&(R.hasAttribute("tabindex")===!0||(R=R.querySelector("[tabindex]")),R&&R!==c&&R.focus({preventScroll:!0}))}function h(){at(u)}function b(){ho(u);const c=document.activeElement;c!==null&&e.rootRef.value.contains(c)&&c.blur()}function q(c){clearTimeout(r),e.editable.value===!0&&e.focused.value===!1&&(e.focused.value=!0,n("focus",c))}function w(c,R){clearTimeout(r),r=setTimeout(()=>{document.hasFocus()===!0&&(e.hasPopupOpen===!0||e.controlRef===void 0||e.controlRef.value===null||e.controlRef.value.contains(document.activeElement)!==!1)||(e.focused.value===!0&&(e.focused.value=!1,n("blur",c)),R!==void 0&&R())})}function x(c){lt(c),l.platform.is.mobile!==!0?(e.targetRef!==void 0&&e.targetRef.value||e.rootRef.value).focus():e.rootRef.value.contains(document.activeElement)===!0&&document.activeElement.blur(),t.type==="file"&&(e.inputRef.value.value=null),n("update:modelValue",null),n("clear",t.modelValue),se(()=>{p(),l.platform.is.mobile!==!0&&(s.value=!1)})}function F(){const c=[];return o.prepend!==void 0&&c.push($("div",{class:"q-field__prepend q-field__marginal row no-wrap items-center",key:"prepend",onClick:Me},o.prepend())),c.push($("div",{class:"q-field__control-container col relative-position row no-wrap q-anchor--skip"},E())),g.value===!0&&t.noErrorIcon===!1&&c.push(K("error",[$(ye,{name:l.iconSet.field.error,color:"negative"})])),t.loading===!0||e.innerLoading.value===!0?c.push(K("inner-loading-append",o.loading!==void 0?o.loading():[$(Kn,{color:t.color})])):t.clearable===!0&&e.hasValue.value===!0&&e.editable.value===!0&&c.push(K("inner-clearable-append",[$(ye,{class:"q-field__focusable-action",tag:"button",name:t.clearIcon||l.iconSet.field.clear,tabindex:0,type:"button","aria-hidden":null,role:null,onClick:x})])),o.append!==void 0&&c.push($("div",{class:"q-field__append q-field__marginal row no-wrap items-center",key:"append",onClick:Me},o.append())),e.getInnerAppend!==void 0&&c.push(K("inner-append",e.getInnerAppend())),e.getControlChild!==void 0&&c.push(e.getControlChild()),c}function E(){const c=[];return t.prefix!==void 0&&t.prefix!==null&&c.push($("div",{class:"q-field__prefix no-pointer-events row items-center"},t.prefix)),e.getShadowControl!==void 0&&e.hasShadow.value===!0&&c.push(e.getShadowControl()),e.getControl!==void 0?c.push(e.getControl()):o.rawControl!==void 0?c.push(o.rawControl()):o.control!==void 0&&c.push($("div",{ref:e.targetRef,class:"q-field__native row",tabindex:-1,...e.splitAttrs.attributes.value,"data-autofocus":t.autofocus===!0||void 0},o.control(z.value))),W.value===!0&&c.push($("div",{class:B.value},re(o.label,t.label))),t.suffix!==void 0&&t.suffix!==null&&c.push($("div",{class:"q-field__suffix no-pointer-events row items-center"},t.suffix)),c.concat(re(o.default))}function N(){let c,R;g.value===!0?k.value!==null?(c=[$("div",{role:"alert"},k.value)],R=`q--slot-error-${k.value}`):(c=re(o.error),R="q--slot-error"):(t.hideHint!==!0||e.focused.value===!0)&&(t.hint!==void 0?(c=[$("div",t.hint)],R=`q--slot-hint-${t.hint}`):(c=re(o.hint),R="q--slot-hint"));const v=t.counter===!0||o.counter!==void 0;if(t.hideBottomSpace===!0&&v===!1&&c===void 0)return;const O=$("div",{key:R,class:"q-field__messages col"},c);return $("div",{class:"q-field__bottom row items-start q-field__bottom--"+(t.hideBottomSpace!==!0?"animated":"stale")},[t.hideBottomSpace===!0?O:$(Ae,{name:"q-transition--field-message"},()=>O),v===!0?$("div",{class:"q-field__counter"},o.counter!==void 0?o.counter():e.computedCounter.value):null])}function K(c,R){return R===null?null:$("div",{key:c,class:"q-field__append q-field__marginal row no-wrap items-center q-anchor--skip"},R)}Object.assign(a,{focus:h,blur:b});let J=!1;return Qn(()=>{J=!0}),Wn(()=>{J===!0&&t.autofocus===!0&&a.focus()}),nt(()=>{Un.value===!0&&t.for===void 0&&(e.targetUid.value=pt()),t.autofocus===!0&&a.focus()}),ue(()=>{clearTimeout(r)}),function(){const R=e.getControl===void 0&&o.control===void 0?{...e.splitAttrs.attributes.value,"data-autofocus":t.autofocus===!0||void 0,...T.value}:T.value;return $("label",{ref:e.rootRef,class:[y.value,i.class],style:i.style,...R},[o.before!==void 0?$("div",{class:"q-field__before q-field__marginal row no-wrap items-center",onClick:Me},o.before()):null,$("div",{class:"q-field__inner relative-position col self-stretch"},[$("div",{ref:e.controlRef,class:C.value,tabindex:-1,...e.controlEvents},F()),S.value===!0?N():null]),o.after!==void 0?$("div",{class:"q-field__after q-field__marginal row no-wrap items-center",onClick:Me},o.after()):null])}}const Kt={date:"####/##/##",datetime:"####/##/## ##:##",time:"##:##",fulltime:"##:##:##",phone:"(###) ### - ####",card:"#### #### #### ####"},tt={"#":{pattern:"[\\d]",negate:"[^\\d]"},S:{pattern:"[a-zA-Z]",negate:"[^a-zA-Z]"},N:{pattern:"[0-9a-zA-Z]",negate:"[^0-9a-zA-Z]"},A:{pattern:"[a-zA-Z]",negate:"[^a-zA-Z]",transform:e=>e.toLocaleUpperCase()},a:{pattern:"[a-zA-Z]",negate:"[^a-zA-Z]",transform:e=>e.toLocaleLowerCase()},X:{pattern:"[0-9a-zA-Z]",negate:"[^0-9a-zA-Z]",transform:e=>e.toLocaleUpperCase()},x:{pattern:"[0-9a-zA-Z]",negate:"[^0-9a-zA-Z]",transform:e=>e.toLocaleLowerCase()}},$n=Object.keys(tt);$n.forEach(e=>{tt[e].regex=new RegExp(tt[e].pattern)});const il=new RegExp("\\\\([^.*+?^${}()|([\\]])|([.*+?^${}()|[\\]])|(["+$n.join("")+"])|(.)","g"),Zt=/[.*+?^${}()|[\]\\]/g,Y=String.fromCharCode(1),al={mask:String,reverseFillMask:Boolean,fillMask:[Boolean,String],unmaskedValue:Boolean};function rl(e,t,n,o){let i,a,l,r;const s=M(null),d=M(k());function g(){return e.autogrow===!0||["textarea","text","search","url","tel","password"].includes(e.type)}L(()=>e.type+e.autogrow,f),L(()=>e.mask,u=>{if(u!==void 0)S(d.value,!0);else{const h=z(d.value);f(),e.modelValue!==h&&t("update:modelValue",h)}}),L(()=>e.fillMask+e.reverseFillMask,()=>{s.value===!0&&S(d.value,!0)}),L(()=>e.unmaskedValue,()=>{s.value===!0&&S(d.value)});function k(){if(f(),s.value===!0){const u=W(z(e.modelValue));return e.fillMask!==!1?T(u):u}return e.modelValue}function p(u){if(u<i.length)return i.slice(-u);let h="",b=i;const q=b.indexOf(Y);if(q>-1){for(let w=u-b.length;w>0;w--)h+=Y;b=b.slice(0,q)+h+b.slice(q)}return b}function f(){if(s.value=e.mask!==void 0&&e.mask.length>0&&g(),s.value===!1){r=void 0,i="",a="";return}const u=Kt[e.mask]===void 0?e.mask:Kt[e.mask],h=typeof e.fillMask=="string"&&e.fillMask.length>0?e.fillMask.slice(0,1):"_",b=h.replace(Zt,"\\$&"),q=[],w=[],x=[];let F=e.reverseFillMask===!0,E="",N="";u.replace(il,(R,v,O,G,te)=>{if(G!==void 0){const Z=tt[G];x.push(Z),N=Z.negate,F===!0&&(w.push("(?:"+N+"+)?("+Z.pattern+"+)?(?:"+N+"+)?("+Z.pattern+"+)?"),F=!1),w.push("(?:"+N+"+)?("+Z.pattern+")?")}else if(O!==void 0)E="\\"+(O==="\\"?"":O),x.push(O),q.push("([^"+E+"]+)?"+E+"?");else{const Z=v!==void 0?v:te;E=Z==="\\"?"\\\\\\\\":Z.replace(Zt,"\\\\$&"),x.push(Z),q.push("([^"+E+"]+)?"+E+"?")}});const K=new RegExp("^"+q.join("")+"("+(E===""?".":"[^"+E+"]")+"+)?$"),J=w.length-1,c=w.map((R,v)=>v===0&&e.reverseFillMask===!0?new RegExp("^"+b+"*"+R):v===J?new RegExp("^"+R+"("+(N===""?".":N)+"+)?"+(e.reverseFillMask===!0?"$":b+"*")):new RegExp("^"+R));l=x,r=R=>{const v=K.exec(R);v!==null&&(R=v.slice(1).join(""));const O=[],G=c.length;for(let te=0,Z=R;te<G;te++){const j=c[te].exec(Z);if(j===null)break;Z=Z.slice(j.shift().length),O.push(...j)}return O.length>0?O.join(""):R},i=x.map(R=>typeof R=="string"?R:Y).join(""),a=i.split(Y).join(h)}function S(u,h,b){const q=o.value,w=q.selectionEnd,x=q.value.length-w,F=z(u);h===!0&&f();const E=W(F),N=e.fillMask!==!1?T(E):E,K=d.value!==N;q.value!==N&&(q.value=N),K===!0&&(d.value=N),document.activeElement===q&&se(()=>{if(N===a){const c=e.reverseFillMask===!0?a.length:0;q.setSelectionRange(c,c,"forward");return}if(b==="insertFromPaste"&&e.reverseFillMask!==!0){const c=w-1;y.right(q,c,c);return}if(["deleteContentBackward","deleteContentForward"].indexOf(b)>-1){const c=e.reverseFillMask===!0?w===0?N.length>E.length?1:0:Math.max(0,N.length-(N===a?0:Math.min(E.length,x)+1))+1:w;q.setSelectionRange(c,c,"forward");return}if(e.reverseFillMask===!0)if(K===!0){const c=Math.max(0,N.length-(N===a?0:Math.min(E.length,x+1)));c===1&&w===1?q.setSelectionRange(c,c,"forward"):y.rightReverse(q,c,c)}else{const c=N.length-x;q.setSelectionRange(c,c,"backward")}else if(K===!0){const c=Math.max(0,i.indexOf(Y),Math.min(E.length,w)-1);y.right(q,c,c)}else{const c=w-1;y.right(q,c,c)}});const J=e.unmaskedValue===!0?z(N):N;String(e.modelValue)!==J&&n(J,!0)}function D(u,h,b){const q=W(z(u.value));h=Math.max(0,i.indexOf(Y),Math.min(q.length,h)),u.setSelectionRange(h,b,"forward")}const y={left(u,h,b,q){const w=i.slice(h-1).indexOf(Y)===-1;let x=Math.max(0,h-1);for(;x>=0;x--)if(i[x]===Y){h=x,w===!0&&h++;break}if(x<0&&i[h]!==void 0&&i[h]!==Y)return y.right(u,0,0);h>=0&&u.setSelectionRange(h,q===!0?b:h,"backward")},right(u,h,b,q){const w=u.value.length;let x=Math.min(w,b+1);for(;x<=w;x++)if(i[x]===Y){b=x;break}else i[x-1]===Y&&(b=x);if(x>w&&i[b-1]!==void 0&&i[b-1]!==Y)return y.left(u,w,w);u.setSelectionRange(q?h:b,b,"forward")},leftReverse(u,h,b,q){const w=p(u.value.length);let x=Math.max(0,h-1);for(;x>=0;x--)if(w[x-1]===Y){h=x;break}else if(w[x]===Y&&(h=x,x===0))break;if(x<0&&w[h]!==void 0&&w[h]!==Y)return y.rightReverse(u,0,0);h>=0&&u.setSelectionRange(h,q===!0?b:h,"backward")},rightReverse(u,h,b,q){const w=u.value.length,x=p(w),F=x.slice(0,b+1).indexOf(Y)===-1;let E=Math.min(w,b+1);for(;E<=w;E++)if(x[E-1]===Y){b=E,b>0&&F===!0&&b--;break}if(E>w&&x[b-1]!==void 0&&x[b-1]!==Y)return y.leftReverse(u,w,w);u.setSelectionRange(q===!0?h:b,b,"forward")}};function C(u){if(Zn(u)===!0)return;const h=o.value,b=h.selectionStart,q=h.selectionEnd;if(u.keyCode===37||u.keyCode===39){const w=y[(u.keyCode===39?"right":"left")+(e.reverseFillMask===!0?"Reverse":"")];u.preventDefault(),w(h,b,q,u.shiftKey)}else u.keyCode===8&&e.reverseFillMask!==!0&&b===q?y.left(h,b,q,!0):u.keyCode===46&&e.reverseFillMask===!0&&b===q&&y.rightReverse(h,b,q,!0)}function W(u){if(u==null||u==="")return"";if(e.reverseFillMask===!0)return B(u);const h=l;let b=0,q="";for(let w=0;w<h.length;w++){const x=u[b],F=h[w];if(typeof F=="string")q+=F,x===F&&b++;else if(x!==void 0&&F.regex.test(x))q+=F.transform!==void 0?F.transform(x):x,b++;else return q}return q}function B(u){const h=l,b=i.indexOf(Y);let q=u.length-1,w="";for(let x=h.length-1;x>=0&&q>-1;x--){const F=h[x];let E=u[q];if(typeof F=="string")w=F+w,E===F&&q--;else if(E!==void 0&&F.regex.test(E))do w=(F.transform!==void 0?F.transform(E):E)+w,q--,E=u[q];while(b===x&&E!==void 0&&F.regex.test(E));else return w}return w}function z(u){return typeof u!="string"||r===void 0?typeof u=="number"?r(""+u):u:r(u)}function T(u){return a.length-u.length<=0?u:e.reverseFillMask===!0&&u.length>0?a.slice(0,-u.length)+u:u+a.slice(u.length)}return{innerValue:d,hasMask:s,moveCursorForPaste:D,updateMaskValue:S,onMaskedKeydown:C}}function sl(e,t){function n(){const o=e.modelValue;try{const i="DataTransfer"in window?new DataTransfer:"ClipboardEvent"in window?new ClipboardEvent("").clipboardData:void 0;return Object(o)===o&&("length"in o?Array.from(o):[o]).forEach(a=>{i.items.add(a)}),{files:i.files}}catch{return{files:void 0}}}return t===!0?m(()=>{if(e.type==="file")return n()}):m(n)}const ul=/[\u3000-\u303f\u3040-\u309f\u30a0-\u30ff\uff00-\uff9f\u4e00-\u9faf\u3400-\u4dbf]/,dl=/[\u4e00-\u9fff\u3400-\u4dbf\u{20000}-\u{2a6df}\u{2a700}-\u{2b73f}\u{2b740}-\u{2b81f}\u{2b820}-\u{2ceaf}\uf900-\ufaff\u3300-\u33ff\ufe30-\ufe4f\uf900-\ufaff\u{2f800}-\u{2fa1f}]/u,cl=/[\u3131-\u314e\u314f-\u3163\uac00-\ud7a3]/,fl=/[a-z0-9_ -]$/i;function ml(e){return function(n){if(n.type==="compositionend"||n.type==="change"){if(n.target.qComposing!==!0)return;n.target.qComposing=!1,e(n)}else n.type==="compositionupdate"&&n.target.qComposing!==!0&&typeof n.data=="string"&&(ot.is.firefox===!0?fl.test(n.data)===!1:ul.test(n.data)===!0||dl.test(n.data)===!0||cl.test(n.data)===!0)===!0&&(n.target.qComposing=!0)}}var Mn=de({name:"QInput",inheritAttrs:!1,props:{...tl,...al,...ao,modelValue:{required:!1},shadowText:String,type:{type:String,default:"text"},debounce:[String,Number],autogrow:Boolean,inputClass:[Array,String,Object],inputStyle:[Array,String,Object]},emits:[...nl,"paste","change"],setup(e,{emit:t,attrs:n}){const o={};let i=NaN,a,l,r,s;const d=M(null),g=ro(e),{innerValue:k,hasMask:p,moveCursorForPaste:f,updateMaskValue:S,onMaskedKeydown:D}=rl(e,t,F,d),y=sl(e,!0),C=m(()=>bt(k.value)),W=ml(x),B=ol(),z=m(()=>e.type==="textarea"||e.autogrow===!0),T=m(()=>z.value===!0||["text","search","url","tel","password"].includes(e.type)),u=m(()=>{const v={...B.splitAttrs.listeners.value,onInput:x,onPaste:w,onChange:N,onBlur:K,onFocus:ft};return v.onCompositionstart=v.onCompositionupdate=v.onCompositionend=W,p.value===!0&&(v.onKeydown=D),e.autogrow===!0&&(v.onAnimationend=E),v}),h=m(()=>{const v={tabindex:0,"data-autofocus":e.autofocus===!0||void 0,rows:e.type==="textarea"?6:void 0,"aria-label":e.label,name:g.value,...B.splitAttrs.attributes.value,id:B.targetUid.value,maxlength:e.maxlength,disabled:e.disable===!0,readonly:e.readonly===!0};return z.value===!1&&(v.type=e.type),e.autogrow===!0&&(v.rows=1),v});L(()=>e.type,()=>{d.value&&(d.value.value=e.modelValue)}),L(()=>e.modelValue,v=>{if(p.value===!0){if(l===!0&&(l=!1,String(v)===i))return;S(v)}else k.value!==v&&(k.value=v,e.type==="number"&&o.hasOwnProperty("value")===!0&&(a===!0?a=!1:delete o.value));e.autogrow===!0&&se(E)}),L(()=>e.autogrow,v=>{v===!0?se(E):d.value!==null&&n.rows>0&&(d.value.style.height="auto")}),L(()=>e.dense,()=>{e.autogrow===!0&&se(E)});function b(){at(()=>{const v=document.activeElement;d.value!==null&&d.value!==v&&(v===null||v.id!==B.targetUid.value)&&d.value.focus({preventScroll:!0})})}function q(){d.value!==null&&d.value.select()}function w(v){if(p.value===!0&&e.reverseFillMask!==!0){const O=v.target;f(O,O.selectionStart,O.selectionEnd)}t("paste",v)}function x(v){if(!v||!v.target||v.target.qComposing===!0)return;if(e.type==="file"){t("update:modelValue",v.target.files);return}const O=v.target.value;if(p.value===!0)S(O,!1,v.inputType);else if(F(O),T.value===!0&&v.target===document.activeElement){const{selectionStart:G,selectionEnd:te}=v.target;G!==void 0&&te!==void 0&&se(()=>{v.target===document.activeElement&&O.indexOf(v.target.value)===0&&v.target.setSelectionRange(G,te)})}e.autogrow===!0&&E()}function F(v,O){s=()=>{e.type!=="number"&&o.hasOwnProperty("value")===!0&&delete o.value,e.modelValue!==v&&i!==v&&(i=v,O===!0&&(l=!0),t("update:modelValue",v),se(()=>{i===v&&(i=NaN)})),s=void 0},e.type==="number"&&(a=!0,o.value=v),e.debounce!==void 0?(clearTimeout(r),o.value=v,r=setTimeout(s,e.debounce)):s()}function E(){const v=d.value;if(v!==null){const O=v.parentNode.style,{overflow:G}=v.style;O.marginBottom=v.scrollHeight-1+"px",v.style.height="1px",v.style.overflow="hidden",v.style.height=v.scrollHeight+"px",v.style.overflow=G,O.marginBottom=""}}function N(v){W(v),clearTimeout(r),s!==void 0&&s(),t("change",v.target.value)}function K(v){v!==void 0&&ft(v),clearTimeout(r),s!==void 0&&s(),a=!1,l=!1,delete o.value,e.type!=="file"&&setTimeout(()=>{d.value!==null&&(d.value.value=k.value!==void 0?k.value:"")})}function J(){return o.hasOwnProperty("value")===!0?o.value:k.value!==void 0?k.value:""}ue(()=>{K()}),nt(()=>{e.autogrow===!0&&E()}),Object.assign(B,{innerValue:k,fieldClass:m(()=>`q-${z.value===!0?"textarea":"input"}`+(e.autogrow===!0?" q-textarea--autogrow":"")),hasShadow:m(()=>e.type!=="file"&&typeof e.shadowText=="string"&&e.shadowText.length>0),inputRef:d,emitValue:F,hasValue:C,floatingLabel:m(()=>C.value===!0||bt(e.displayValue)),getControl:()=>$(z.value===!0?"textarea":"input",{ref:d,class:["q-field__native q-placeholder",e.inputClass],style:e.inputStyle,...h.value,...u.value,...e.type!=="file"?{value:J()}:y.value}),getShadowControl:()=>$("div",{class:"q-field__native q-field__shadow absolute-bottom no-pointer-events"+(z.value===!0?"":" text-no-wrap")},[$("span",{class:"invisible"},J()),$("span",e.shadowText)])});const c=ll(B),R=ie();return Object.assign(R.proxy,{focus:b,select:q,getNativeElement:()=>d.value}),c}});function Ie(e){return parseInt(e)||0}const vl=fe({name:"InputNumber",props:{dense:{type:Boolean,default:!1},modelValue:{type:Number,required:!1},min:{type:Number},max:{type:Number}},emits:["update:modelValue"],setup(e,t){const n=M((e.modelValue||0).toString());L(()=>e.modelValue,l=>{l===void 0||(n.value=l.toString()),console.log("in watched")});function o(){let l=Ie(n.value);(e.min===void 0||l>e.min)&&(l--,a(l.toString()))}function i(){let l=Ie(n.value);(e.max===void 0||l<e.max)&&(l++,a(l.toString()))}function a(l){if(l!==void 0){let r=Ie(l);e.min!==void 0&&r<e.min&&(r=e.min),e.max!==void 0&&r>e.max&&(r=e.max),n.value=r.toString()}t.emit("update:modelValue",Ie(n.value))}return{localValue:n,onIncrement:i,onDecrement:o,emitUpdate:a}}});function hl(e,t,n,o,i,a){return P(),he(Mn,{outlined:"",style:{"max-width":"10em"},"model-value":e.localValue,min:e.min,max:e.max,"onUpdate:modelValue":t[0]||(t[0]=l=>e.emitUpdate(l)),dense:e.dense},{prepend:U(()=>[I(le,{round:"",flat:"",color:"primary",icon:"remove",dense:e.dense,onClick:e.onDecrement},null,8,["dense","onClick"])]),append:U(()=>[I(le,{round:"",flat:"",color:"primary",icon:"add",dense:e.dense,onClick:e.onIncrement},null,8,["dense","onClick"])]),_:1},8,["model-value","min","max","dense"])}var gl=ge(vl,[["render",hl]]),Yt;const Oe=typeof window!="undefined",yl=e=>typeof e=="string",ut=()=>{};Oe&&((Yt=window==null?void 0:window.navigator)==null?void 0:Yt.userAgent)&&/iP(ad|hone|od)/.test(window.navigator.userAgent);function pl(e){return Yn()?(Gn(e),!0):!1}function Rn(e){var t;const n=Xn(e);return(t=n==null?void 0:n.$el)!=null?t:n}const Bn=Oe?window:void 0;Oe&&window.document;Oe&&window.navigator;Oe&&window.location;function Ue(...e){let t,n,o,i;if(yl(e[0])?([n,o,i]=e,t=Bn):[t,n,o,i]=e,!t)return ut;let a=ut;const l=L(()=>Rn(t),s=>{a(),s&&(s.addEventListener(n,o,i),a=()=>{s.removeEventListener(n,o,i),a=ut})},{immediate:!0,flush:"post"}),r=()=>{l(),a()};return pl(r),r}const bl=e=>typeof e=="function"?e:typeof e=="string"?t=>t.key===e:Array.isArray(e)?t=>e.includes(t.key):e?()=>!0:()=>!1;function ve(e,t,n={}){const{target:o=Bn,eventName:i="keydown",passive:a=!1}=n,l=bl(e);return Ue(o,i,s=>{l(s)&&t(s)},a)}const kl=500;function wl(e,t,n){var o,i;const a=m(()=>Rn(e));let l=null;function r(){l!=null&&(clearTimeout(l),l=null)}function s(g){var k,p,f,S;((k=n==null?void 0:n.modifiers)==null?void 0:k.self)&&g.target!==a.value||(r(),(p=n==null?void 0:n.modifiers)!=null&&p.prevent&&g.preventDefault(),(f=n==null?void 0:n.modifiers)!=null&&f.stop&&g.stopPropagation(),l=setTimeout(()=>t(g),(S=n==null?void 0:n.delay)!=null?S:kl))}const d={capture:(o=n==null?void 0:n.modifiers)==null?void 0:o.capture,once:(i=n==null?void 0:n.modifiers)==null?void 0:i.once};Ue(a,"pointerdown",s,d),Ue(a,"pointerup",r,d),Ue(a,"pointerleave",r,d)}const kt=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:{},wt="__vueuse_ssr_handlers__";kt[wt]=kt[wt]||{};kt[wt];var Gt;(function(e){e.UP="UP",e.RIGHT="RIGHT",e.DOWN="DOWN",e.LEFT="LEFT",e.NONE="NONE"})(Gt||(Gt={}));const xl=fe({props:{die:{type:_e,required:!0},mode:{type:Number,required:!0},watchmin:Number,watchmax:Number,ignore_hotkeys:{type:Boolean,default:!0},afrender:Number},emits:["advanced-update","input","base-toggle","exclusive-toggle","mode-change"],components:{InputNumber:gl},setup(e,t){const n=M(e.die.min),o=M(e.die.max),i=M(e.die.dice);L(()=>e.die,()=>{n.value=e.die.min,o.value=e.die.max,i.value=e.die.dice,console.log("af watch die")});function a(l){l==="min"?(n.value<0&&(n.value=0),n.value>=o.value&&(n.value=o.value-1),t.emit("input",n.value,l)):l==="max"?(o.value<=n.value&&(o.value=n.value+1),t.emit("input",o.value,l)):l==="dice"&&(i.value<1&&(i.value=1),i.value>10&&(i.value=10),t.emit("input",i.value,l)),console.log("new minmax ",n.value," ",o.value," ",i.value),t.emit("advanced-update",[n.value,o.value,i.value])}return ve("d",()=>{e.ignore_hotkeys||(i.value=i.value+1,a("dice"))}),ve("D",()=>{e.ignore_hotkeys||(i.value=i.value-1,a("dice"))}),ve("x",()=>{e.ignore_hotkeys||(o.value=o.value+1,a("max"))}),ve("X",()=>{e.ignore_hotkeys||(o.value=o.value-1,a("max"))}),ve("n",()=>{e.ignore_hotkeys||(n.value=n.value+1,a("min"))}),ve("N",()=>{e.ignore_hotkeys||(n.value=n.value-1,a("min"))}),{min:n,max:o,dice:i,MODE:$e,handleMinMaxDice:a}}}),_l={class:"row"};function Cl(e,t,n,o,i,a){const l=me("InputNumber");return P(),Q(qe,null,[A("div",_l,[I(l,{dense:"",label:"Min",modelValue:e.min,"onUpdate:modelValue":[t[0]||(t[0]=r=>e.min=r),t[1]||(t[1]=r=>e.handleMinMaxDice("min"))],"input-class":"text-rrinput",class:"bg-rrinput","label-color":"primary",min:0,max:e.max-1},null,8,["modelValue","max"]),I(l,{dense:"",label:"Max",modelValue:e.max,"onUpdate:modelValue":[t[2]||(t[2]=r=>e.max=r),t[3]||(t[3]=r=>e.handleMinMaxDice("max"))],"input-class":"text-rrinput",class:"bg-rrinput","label-color":"primary",min:e.min+1},null,8,["modelValue","min"])]),A("div",null,[I(l,{dense:"",label:"#",modelValue:e.dice,"onUpdate:modelValue":[t[4]||(t[4]=r=>e.dice=r),t[5]||(t[5]=r=>e.handleMinMaxDice("dice"))],"input-class":"text-rrinput",class:"bg-rrinput",style:{width:"9em"},"label-color":"primary",min:1,max:10},null,8,["modelValue"])]),A("div",null,[I(Fo,{style:{height:"100%"},class:"q-px-sm",dense:"",outline:"","no-caps":"",color:"primary",label:e.MODE[e.mode].name,icon:e.MODE[e.mode].material_icon},{default:U(()=>[I(so,{bordered:"",dense:"",class:"bg-rrinput"},{default:U(()=>[(P(!0),Q(qe,null,it(Object.keys(e.MODE).map(r=>parseInt(r)),r=>Jn((P(),he(co,{key:r,clickable:"",onClick:s=>e.$emit("mode-change",r)},{default:U(()=>[I(To,null,{default:U(()=>[I(uo,null,{default:U(()=>[I(ye,{name:e.MODE[r].material_icon},null,8,["name"]),ne("\xA0\xA0"+oe(e.MODE[r].name),1)]),_:2},1024)]),_:2},1024)]),_:2},1032,["onClick"])),[[Lo]])),128))]),_:1})]),_:1},8,["label","icon"])]),A("div",null,[I(le,{dense:"",outline:"","no-caps":"",class:mt(["q-px-sm",e.die.zerobase?"rr-active-button":""]),color:"primary",style:{height:"100%"},onClick:t[6]||(t[6]=r=>e.$emit("base-toggle"))},{default:U(()=>[ne(oe(e.die.zerobase?"Zero-based":"One-based"),1)]),_:1},8,["class"]),I(le,{dense:"",outline:"","no-caps":"",class:mt(["q-px-sm",e.die.exclusive?"rr-active-button":""]),color:"primary",style:{height:"100%"},onClick:t[7]||(t[7]=r=>e.$emit("exclusive-toggle"))},{default:U(()=>[ne(oe(e.die.exclusive?"Exclusive":"Inclusive"),1)]),_:1},8,["class"])])],64)}var Sl=ge(xl,[["render",Cl],["__scopeId","data-v-226ecd3b"]]);const ql={xs:8,sm:10,md:14,lg:20,xl:24};var $l=de({name:"QChip",props:{...$t,...ln,dense:Boolean,icon:String,iconRight:String,iconRemove:String,iconSelected:String,label:[String,Number],color:String,textColor:String,modelValue:{type:Boolean,default:!0},selected:{type:Boolean,default:null},square:Boolean,outline:Boolean,clickable:Boolean,removable:Boolean,tabindex:[String,Number],disable:Boolean,ripple:{type:[Boolean,Object],default:!0}},emits:["update:modelValue","update:selected","remove","click"],setup(e,{slots:t,emit:n}){const{proxy:{$q:o}}=ie(),i=Mt(e,o),a=an(e,ql),l=m(()=>e.selected===!0||e.icon!==void 0),r=m(()=>e.selected===!0?e.iconSelected||o.iconSet.chip.selected:e.icon),s=m(()=>e.iconRemove||o.iconSet.chip.remove),d=m(()=>e.disable===!1&&(e.clickable===!0||e.selected!==null)),g=m(()=>{const y=e.outline===!0&&e.color||e.textColor;return"q-chip row inline no-wrap items-center"+(e.outline===!1&&e.color!==void 0?` bg-${e.color}`:"")+(y?` text-${y} q-chip--colored`:"")+(e.disable===!0?" disabled":"")+(e.dense===!0?" q-chip--dense":"")+(e.outline===!0?" q-chip--outline":"")+(e.selected===!0?" q-chip--selected":"")+(d.value===!0?" q-chip--clickable cursor-pointer non-selectable q-hoverable":"")+(e.square===!0?" q-chip--square":"")+(i.value===!0?" q-chip--dark q-dark":"")}),k=m(()=>e.disable===!0?{tabindex:-1,"aria-disabled":"true"}:{tabindex:e.tabindex||0});function p(y){y.keyCode===13&&f(y)}function f(y){e.disable||(n("update:selected",!e.selected),n("click",y))}function S(y){(y.keyCode===void 0||y.keyCode===13)&&(lt(y),e.disable===!1&&(n("update:modelValue",!1),n("remove")))}function D(){const y=[];d.value===!0&&y.push($("div",{class:"q-focus-helper"})),l.value===!0&&y.push($(ye,{class:"q-chip__icon q-chip__icon--left",name:r.value}));const C=e.label!==void 0?[$("div",{class:"ellipsis"},[e.label])]:void 0;return y.push($("div",{class:"q-chip__content col row no-wrap items-center q-anchor--skip"},rn(t.default,C))),e.iconRight&&y.push($(ye,{class:"q-chip__icon q-chip__icon--right",name:e.iconRight})),e.removable===!0&&y.push($(ye,{class:"q-chip__icon q-chip__icon--remove cursor-pointer",name:s.value,...k.value,onClick:S,onKeyup:S})),y}return()=>{if(e.modelValue===!1)return;const y={class:g.value,style:a.value};return d.value===!0&&Object.assign(y,k.value,{onClick:f,onKeyup:p}),eo("div",y,D(),"ripple",e.ripple!==!1&&e.disable!==!0,()=>[[to,e.ripple]])}}});const Ml=fe({name:"HistoryList",props:{label:{type:String,default:"History:"},rolls:{type:Object,required:!0},limit:{type:Number,default:50}},emits:["onDieChip"],setup(e){function t(i){return i.label+":"+i.mode}const n=m(()=>{const i=[],a=new Set;for(const l of e.rolls){const r=t(l);if(!a.has(r)&&(a.add(r),i.push(l),i.length===e.limit))break}return i}),o=m(()=>e.rolls.length>0?t(e.rolls[0]):"");return{filteredRolls:n,makeKey:t,currentKey:o,MODE:$e}}}),Rl={key:0,style:{overflow:"hidden","white-space":"nowrap",color:"white"},class:"q-mx-lg rr-hl"};function Bl(e,t,n,o,i,a){return e.filteredRolls.length>0?(P(),Q("div",Rl,[A("div",null,[ne(oe(e.label)+" ",1),(P(!0),Q(qe,null,it(e.filteredRolls,l=>(P(),he($l,{key:e.makeKey(l),dense:"",color:e.currentKey===e.makeKey(l)?"secondary":"primary",clickable:"",onClick:r=>e.$emit("onDieChip",l),icon:e.MODE[l.mode].material_icon},{default:U(()=>[ne(oe(l.label),1)]),_:2},1032,["color","onClick","icon"]))),128))])])):X("",!0)}var El=ge(Ml,[["render",Bl],["__scopeId","data-v-4b69fddc"]]);const Tl=fe({name:"PreviousRolls",props:{label:{type:String,default:"Previous:"},rolls:{type:Object,required:!0},limit:{type:Number,default:50},skip:{type:Number,default:1}},setup(e){return{previousRollsString:m(()=>{const n=[];for(const o of e.rolls.slice(e.skip,e.limit+1+e.skip))o.die.dice===1?n.push($e[o.mode].displayValue(o.die.getResult(),o.die.max)):n.push($e[o.mode].displayMulti(o.die.getThrow(),o.die.max));return n.join("&hellip; ")})}}}),Vl={key:0,style:{overflow:"hidden","white-space":"nowrap"},class:"q-mx-lg rr-pr"},Al={class:"rr-pr-label"},Dl=["innerHTML"];function Pl(e,t,n,o,i,a){return e.previousRollsString?(P(),Q("div",Vl,[A("div",null,[A("span",Al,oe(e.label),1),A("span",{class:"grad",innerHTML:e.previousRollsString},null,8,Dl)])])):X("",!0)}var Ol=ge(Tl,[["render",Pl],["__scopeId","data-v-b09315da"]]);const Fl=fe({name:"QuickButtons",props:{label:{type:String,default:""},mode:{type:Number,required:!0},current:{type:Number,default:0}},emits:["onQuickButton"],setup(e){return{button_set:m(()=>$e[e.mode].quick),MODE:Be}}}),Ll={style:{color:"$secondary"},class:"text-sm"},zl={class:"row justify-center"};function Nl(e,t,n,o,i,a){return e.button_set?(P(),Q(qe,{key:0},[A("div",Ll,oe(e.label),1),A("div",zl,[(P(!0),Q(qe,null,it(e.button_set,l=>(P(),he(le,{key:l,flat:"","no-caps":"",onClick:r=>e.$emit("onQuickButton",l),class:mt(["rr-qb",{"rr-qb-selected":e.current===l}])},{default:U(()=>[ne(oe(e.mode===e.MODE.hex?"x"+l.toString(16):e.mode===e.MODE.binary?"b"+l.toString(2):l.toLocaleString()),1)]),_:2},1032,["onClick","class"]))),128))])],64)):X("",!0)}var Hl=ge(Fl,[["render",Nl]]);function Il(){return De(no)}const jl=fe({name:"SvgDie6",props:{value:{type:Number,default:0},strokeWidth:{type:Number,default:2},dotRadius:{type:Number,default:10}}}),Ql={width:"100",height:"100",xmlns:"http://www.w3.org/2000/svg"},Wl={stroke:"#000",class:"die6"},Ul=["stroke-width"],Kl=["r","stroke-width"],Zl=["r","stroke-width"],Yl=["r","stroke-width"],Gl=["r","stroke-width"],Xl=["r","stroke-width"],Jl=["r","stroke-width"],ei=["r","stroke-width"],ti=["r","stroke-width"],ni=["r","stroke-width"];function oi(e,t,n,o,i,a){return P(),Q("svg",Ql,[A("g",Wl,[A("rect",{class:"die",width:"98",height:"98",x:"1",y:"1",ry:"25","stroke-width":e.strokeWidth},null,8,Ul),[2,3,4,5,6,7,8,9].includes(e.value)?(P(),Q("circle",{key:0,class:"dot",cx:"26",cy:"26",r:e.dotRadius,"stroke-width":e.strokeWidth},null,8,Kl)):X("",!0),[8,9].includes(e.value)?(P(),Q("circle",{key:1,class:"dot",cx:"50",cy:"26",r:e.dotRadius,"stroke-width":e.strokeWidth},null,8,Zl)):X("",!0),[4,5,6,7,8,9].includes(e.value)?(P(),Q("circle",{key:2,class:"dot",cx:"74",cy:"26",r:e.dotRadius,"stroke-width":e.strokeWidth},null,8,Yl)):X("",!0),[6,7,8,9].includes(e.value)?(P(),Q("circle",{key:3,class:"dot",cx:"26",cy:"50",r:e.dotRadius,"stroke-width":e.strokeWidth},null,8,Gl)):X("",!0),[1,3,5,7,9].includes(e.value)?(P(),Q("circle",{key:4,class:"dot",cx:"50",cy:"50",r:e.dotRadius,"stroke-width":e.strokeWidth},null,8,Xl)):X("",!0),[6,7,8,9].includes(e.value)?(P(),Q("circle",{key:5,class:"dot",cx:"74",cy:"50",r:e.dotRadius,"stroke-width":e.strokeWidth},null,8,Jl)):X("",!0),[4,5,6,7,8,9].includes(e.value)?(P(),Q("circle",{key:6,class:"dot",cx:"26",cy:"74",r:e.dotRadius,"stroke-width":e.strokeWidth},null,8,ei)):X("",!0),[8,9].includes(e.value)?(P(),Q("circle",{key:7,class:"dot",cx:"50",cy:"74",r:e.dotRadius,"stroke-width":e.strokeWidth},null,8,ti)):X("",!0),[2,3,4,5,6,7,8,9].includes(e.value)?(P(),Q("circle",{key:8,class:"dot",cx:"74",cy:"74",r:e.dotRadius,"stroke-width":e.strokeWidth},null,8,ni)):X("",!0)])])}var li=ge(jl,[["render",oi],["__scopeId","data-v-19902f32"]]);const ii=fe({name:"RollDisplay",props:{value:{type:Number,default:0},roll:{type:Object,default:null},index:{type:Number,default:0}},components:{SvgDie6:li},emits:["onRollDisplayClick"],setup(e){const t=Il(),n=M(null),o=M(!1),i=M(!1);let a="1em 4em 1em 4em";const l=m(()=>e.roll?(e.roll.mode===Be.dice&&(a="1em 1em 1em 1em"),$e[e.roll.mode].displayValue(e.value,e.roll.die.max)):"Press Here");function r(){o.value=!0,e.roll&&Ho(l.value+(l.value!==e.value.toString()?" ("+e.value+")":"")).then(()=>{t.notify({message:"Copied to clipboard!",icon:"announcement",color:"primary",position:"top",textColor:"background"})}).catch(()=>{t.notify({message:"Clipboard failed",icon:"warning",color:"warn",position:"top",textColor:"background"})})}return wl(n,r,{delay:1e3,modifiers:{stop:!0,prevent:!0}}),{btn_ref:n,displayValue:l,handleLongPress:r,inLongPress:o,MODE_ID:Be,padding:a,ttopen:i}}}),ai=["innerHTML"];function ri(e,t,n,o,i,a){var r;const l=me("SvgDie6");return P(),he(le,{ref:"btn_ref",unelevated:"",outline:((r=e.roll)==null?void 0:r.mode)!==e.MODE_ID.dice,onClick:t[0]||(t[0]=s=>e.inLongPress?e.inLongPress=!1:e.$emit("onRollDisplayClick")),class:"q-pa-lg rr-big-btn text-h3"},{default:U(()=>[e.roll&&e.roll.mode===e.MODE_ID.dice&&e.roll.die.max<=9?(P(),he(l,{key:0,viewBox:"0 0 100 100",height:"1.5em",value:e.value,alt:e.value+" die",style:sn({transform:"rotate("+(Math.random()*90-45)+"deg)"})},null,8,["value","alt","style"])):(P(),Q("span",{key:1,innerHTML:e.displayValue},null,8,ai))]),_:1},8,["outline"])}var si=ge(ii,[["render",ri]]);let je=0;const ui={standard:"fixed-full flex-center",top:"fixed-top justify-center",bottom:"fixed-bottom justify-center",right:"fixed-right items-center",left:"fixed-left items-center"},Xt={standard:["scale","scale"],top:["slide-down","slide-up"],bottom:["slide-up","slide-down"],right:["slide-left","slide-right"],left:["slide-right","slide-left"]};var di=de({name:"QDialog",inheritAttrs:!1,props:{..._t,...Bt,transitionShow:String,transitionHide:String,persistent:Boolean,autoClose:Boolean,allowFocusOutside:Boolean,noEscDismiss:Boolean,noBackdropDismiss:Boolean,noRouteDismiss:Boolean,noRefocus:Boolean,noFocus:Boolean,noShake:Boolean,seamless:Boolean,maximized:Boolean,fullWidth:Boolean,fullHeight:Boolean,square:Boolean,position:{type:String,default:"standard",validator:e=>e==="standard"||["top","bottom","left","right"].includes(e)}},emits:[...Ct,"shake","click","escape-key"],setup(e,{slots:t,emit:n,attrs:o}){const i=ie(),a=M(null),l=M(!1),r=M(!1),s=M(!1);let d,g=null,k,p;const f=m(()=>e.persistent!==!0&&e.noRouteDismiss!==!0&&e.seamless!==!0),{preventBodyScroll:S}=mo(),{registerTimeout:D,removeTimeout:y}=St(),{registerTick:C,removeTick:W}=Et(),{showPortal:B,hidePortal:z,portalIsAccessible:T,renderPortal:u}=Rt(i,a,be,!0),{hide:h}=qt({showing:l,hideOnRouteChange:f,handleShow:R,handleHide:v,processOnMount:!0}),{addToHistory:b,removeFromHistory:q}=fo(l,h,f),w=m(()=>`q-dialog__inner flex no-pointer-events q-dialog__inner--${e.maximized===!0?"maximized":"minimized"} q-dialog__inner--${e.position} ${ui[e.position]}`+(s.value===!0?" q-dialog__inner--animating":"")+(e.fullWidth===!0?" q-dialog__inner--fullwidth":"")+(e.fullHeight===!0?" q-dialog__inner--fullheight":"")+(e.square===!0?" q-dialog__inner--square":"")),x=m(()=>"q-transition--"+(e.transitionShow===void 0?Xt[e.position][0]:e.transitionShow)),F=m(()=>"q-transition--"+(e.transitionHide===void 0?Xt[e.position][1]:e.transitionHide)),E=m(()=>r.value===!0?F.value:x.value),N=m(()=>`--q-transition-duration: ${e.transitionDuration}ms`),K=m(()=>l.value===!0&&e.seamless!==!0),J=m(()=>e.autoClose===!0?{onClick:pe}:{}),c=m(()=>[`q-dialog fullscreen no-pointer-events q-dialog--${K.value===!0?"modal":"seamless"}`,o.class]);L(l,H=>{se(()=>{r.value=H})}),L(()=>e.maximized,H=>{l.value===!0&&j(H)}),L(K,H=>{S(H),H===!0?(Cn(ce),xn(te)):(gt(ce),et(te))});function R(H){y(),W(),b(),g=e.noRefocus===!1&&document.activeElement!==null?document.activeElement:null,j(e.maximized),B(),s.value=!0,e.noFocus!==!0&&(document.activeElement!==null&&document.activeElement.blur(),C(O)),D(()=>{if(i.proxy.$q.platform.is.ios===!0){if(e.seamless!==!0&&document.activeElement){const{top:V,bottom:ke}=document.activeElement.getBoundingClientRect(),{innerHeight:Fe}=window,Ve=window.visualViewport!==void 0?window.visualViewport.height:Fe;V>0&&ke>Ve/2&&(document.scrollingElement.scrollTop=Math.min(document.scrollingElement.scrollHeight-Ve,ke>=Fe?1/0:Math.ceil(document.scrollingElement.scrollTop+ke-Ve/2))),document.activeElement.scrollIntoView()}p=!0,a.value.click(),p=!1}B(!0),s.value=!1,n("show",H)},e.transitionDuration)}function v(H){y(),W(),q(),Z(!0),s.value=!0,z(),g!==null&&(g.focus(),g=null),D(()=>{z(!0),s.value=!1,n("hide",H)},e.transitionDuration)}function O(H){at(()=>{let V=a.value;V===null||V.contains(document.activeElement)===!0||(V=V.querySelector(H||"[autofocus], [data-autofocus]")||V,V.focus({preventScroll:!0}))})}function G(){O(),n("shake");const H=a.value;H!==null&&(H.classList.remove("q-animate--scale"),H.classList.add("q-animate--scale"),clearTimeout(d),d=setTimeout(()=>{a.value!==null&&(H.classList.remove("q-animate--scale"),O())},170))}function te(){e.seamless!==!0&&(e.persistent===!0||e.noEscDismiss===!0?e.maximized!==!0&&e.noShake!==!0&&G():(n("escape-key"),h()))}function Z(H){clearTimeout(d),(H===!0||l.value===!0)&&(j(!1),e.seamless!==!0&&(S(!1),gt(ce),et(te))),H!==!0&&(g=null)}function j(H){H===!0?k!==!0&&(je<1&&document.body.classList.add("q-body--dialog"),je++,k=!0):k===!0&&(je<2&&document.body.classList.remove("q-body--dialog"),je--,k=!1)}function pe(H){p!==!0&&(h(H),n("click",H))}function ae(H){e.persistent!==!0&&e.noBackdropDismiss!==!0?h(H):e.noShake!==!0&&G()}function ce(H){e.allowFocusOutside!==!0&&T.value===!0&&on(a.value,H.target)!==!0&&O('[tabindex]:not([tabindex="-1"])')}Object.assign(i.proxy,{focus:O,shake:G,__updateRefocusTarget(H){g=H||null}}),ue(Z);function be(){return $("div",{...o,class:c.value},[$(Ae,{name:"q-transition--fade",appear:!0},()=>K.value===!0?$("div",{class:"q-dialog__backdrop fixed-full",style:N.value,"aria-hidden":"true",onMousedown:ae}):null),$(Ae,{name:E.value,appear:!0},()=>l.value===!0?$("div",{ref:a,class:w.value,style:N.value,tabindex:-1,...J.value},re(t.default)):null)])}return u}});const ci=fe({name:"DieConsole",props:{active:Boolean,error:String},emits:["console-close","submit"],setup(e,t){const n=M(e.active),o=M(""),i=M(!1);L(()=>e.error,()=>i.value=!!e.error),L(()=>e.active,()=>n.value=e.active),L(o,()=>{o.value===""&&(i.value=!1)});function a(){t.emit("submit",o.value)}return{console_active:n,console_input:o,error_status:i,onSubmit:a}}}),fi={class:"row console justify-center items-center"},mi={class:"col-grow"},vi={style:{"margin-left":"1em"}},hi={class:"col"},gi=ne("Esc"),yi=ne("Enter");function pi(e,t,n,o,i,a){return P(),he(di,{modelValue:e.console_active,"onUpdate:modelValue":t[2]||(t[2]=l=>e.console_active=l),seamless:"",position:"bottom",ref:"console_ref"},{default:U(()=>[A("div",fi,[A("div",mi,[I(Mn,{placeholder:"Dice hacking mode enabled...",hint:"Your dice notation console is ready to serve.",filled:"",clearable:"",autofocus:"",outlined:"","stack-label":"","bottom-slots":"","error-message":e.error,error:e.error_status,modelValue:e.console_input,"onUpdate:modelValue":t[0]||(t[0]=l=>e.console_input=l),onKeyup:oo(e.onSubmit,["enter"]),"input-class":"text-rrinput"},{prepend:U(()=>[I(ye,{name:"computer",color:"primary"})]),_:1},8,["error-message","error","modelValue","onKeyup"])]),A("div",vi,[A("div",hi,[A("div",null,[I(le,{style:{width:"100%"},outline:"",onClick:t[1]||(t[1]=l=>e.$emit("console-close")),color:"primary"},{default:U(()=>[gi]),_:1})]),A("div",null,[I(le,{outline:"",onClick:e.onSubmit,color:"primary"},{default:U(()=>[yi]),_:1},8,["onClick"])])])])])]),_:1},8,["modelValue"])}var bi=ge(ci,[["render",pi]]);const ki={key:0},wi=fe({__name:"DebugDie",props:{die:_e,active:Boolean,bgColor:String},setup(e){const t=["top-right","bottom-right","top-left","bottom-left"];let n=0;const o=M(t[n]);function i(){console.log("click"),n++,n>=t.length&&(n=0),o.value=t[n]}return(a,l)=>e.active?(P(),Q("div",ki,[I(kn,{position:o.value,offset:[18,18]},{default:U(()=>[A("div",{class:"debug-sticky q-pa-sm",style:sn({backgroundColor:e.bgColor}),onClick:i},[A("pre",null,oe(JSON.stringify(e.die,null,3)||"no die?"),1)],4)]),_:1},8,["position"])])):X("",!0)}}),Jt=1,en=1,tn=10,xi=100,_i=xi*5;function Ci(e,t,n,o,i,a){i===void 0&&(i=e.min),a===void 0&&(a=e.max),o!==void 0&&o!==e.dice&&(e.dice=o),e.roll();const l=e.clone();return n.unshift({label:e.toString(),die:e,mode:t,time:new Date}),n.length>_i&&n.pop(),l}const Si=fe({name:"IndexPage",props:{options:Object},components:{QuickButtons:Hl,RollDisplay:si,PreviousRolls:Ol,HistoryList:El,AdvancedForm:Sl,DieConsole:bi,DebugDie:wi},setup(){const e=[],t=M(new _e(en,tn,Jt)),n=M(e),o=M(new Date),i=M(Be.default),a=M(!1),l=M(""),r=M(!1),s=M(0),d=m(()=>n.value.length>0?n.value[0]:null),g=m(()=>n.value.length>0?n.value[0].die.dice:0);function k(){t.value=Ci(t.value,i.value,n.value),o.value=new Date}function p(B){t.value.max=B,t.value.min=t.value.zerobase?0:1,k()}function f(B){t.value.min=B[0],t.value.max=B[1],t.value.dice=B[2]}function S(B){t.value=B.die.clone(),i.value=B.mode,k()}function D(B){if(B!=i.value){const z=$e[B];z&&(t.value=t.value.clone(),z.override&&Object.assign(t.value,z.override),i.value=B)}}function y(){t.value.zerobase=!t.value.zerobase,t.value.min=t.value.zerobase?0:1,s.value++}function C(){t.value=new _e(en,tn,Jt),i.value=Be.default,n.value=[]}function W(B){try{const z=new _e(B);t.value=z,l.value="",k()}catch{l.value="Invalid dice format. Try something like 3d6."}console.log("handle console submit: "+B)}return ve([" ","Enter"],B=>{a.value?console.log("console open: no enter"):(B.preventDefault(),k()),console.log("element ",useCurrentElement())}),ve("`",()=>a.value=!0),ve("Escape",()=>a.value=!1),{lastRoll:d,dice_count:g,lastUpdate:o,mode:i,die:t,rolls:n,history,min:t.value.min,max:t.value.max,afrender:s,ttopen:r,console_active:a,console_error:l,bigButtonClick:k,handleQuickButton:p,handleChipClick:S,handleZeroBaseToggle:y,handleModeChange:D,handleReset:C,advancedUpdate:f,handleConsoleSubmit:W}}}),qi={class:"row justify-center"},$i={class:"row justify-center items-start q-mt-sm"},Mi={key:0},Ri={key:1,style:{color:"#2a2a5a"}},Bi={class:"row justify-center"},Ei={style:{"font-size":"60%"}},Ti={key:0,class:"row justify-center q-mt-md"},Vi={key:1,class:"row justify-center items-start q-pt-sm"},Ai={key:2,class:"row justify-center q-pt-sm"},Di={key:3,class:"row justify-center q-pt-sm"},Pi={class:"row justify-center q-pt-md"},Oi=A("div",{style:{"font-size":"133%"}},[A("b",null,"Tips and tricks!"),A("ul",null,[A("li",null,[ne(" Click/tap the top box, or the bottom right button, for "),A("b",null,"new number(s)"),ne(" Too obvious? ")]),A("li",null,[ne(" Long press (click and hold) random number to copy to "),A("b",null,"clipboard")]),A("li",null," Hot keys! Min: N/n, Max: X/x, # 'dice': D/d, roll: Enter/Space "),A("li",null,[ne(" Use hex mode "),A("span",{style:{"font-family":"monospace"}},"x1000000"),ne(" button for random HTML colour codes (or "),A("span",{style:{"font-family":"monospace"}},"3d256xz"),ne(" if you prefer!) ")]),A("li",null,"Use five dice to play Yahtzee?"),A("li",null,"` for console. Is that crazy?")]),A("i",null,"Use the power of randomness only for good. Please.")],-1),Fi=ne("Reset to defaults"),Li=ne(" \xA0 "),zi={style:{"text-transform":"none"}};function Ni(e,t,n,o,i,a){const l=me("roll-display"),r=me("quick-buttons"),s=me("previous-rolls"),d=me("history-list"),g=me("AdvancedForm"),k=me("DieConsole"),p=me("DebugDie");return P(),he(Co,null,{default:U(()=>{var f,S,D,y,C,W,B,z;return[A("div",qi,[e.lastRoll?(P(!0),Q(qe,{key:0},it(e.lastRoll.die.getThrow(),(T,u)=>(P(),Q("div",{key:u},[I(l,{value:T,index:u,roll:e.lastRoll,onOnRollDisplayClick:e.bigButtonClick},null,8,["value","index","roll","onOnRollDisplayClick"])]))),128)):(P(),he(l,{key:1,value:0,roll:null,onOnRollDisplayClick:e.bigButtonClick},null,8,["onOnRollDisplayClick"]))]),A("div",$i,[A("i",null,[e.dice_count>0?(P(),Q(qe,{key:0},[e.dice_count>1?(P(),Q("span",Mi,"Total: "+oe((f=e.lastRoll)==null?void 0:f.die.getResult())+" "+oe((S=e.lastRoll)==null?void 0:S.die.getRangeString(!1," to "))+" - ",1)):X("",!0),A("span",null,"Range: "+oe((D=e.lastRoll)==null?void 0:D.die.getRangeString(!0," to ")),1)],64)):(P(),Q("div",Ri," \xA0"+oe(Math.random().toString().slice(2))+"\xA0 ",1))])]),A("div",Bi,[A("i",Ei,oe(e.lastRoll?e.lastRoll.time.toLocaleString():"\xA0"),1)]),(y=e.options)!=null&&y.hideQuick?X("",!0):(P(),Q("div",Ti,[I(r,{label:"Quick Roll:",mode:e.mode,current:e.die.max,onOnQuickButton:t[0]||(t[0]=T=>e.handleQuickButton(T))},null,8,["mode","current"])])),(C=e.options)!=null&&C.hidePrevious?X("",!0):(P(),Q("div",Vi,[I(s,{rolls:e.rolls},null,8,["rolls"])])),(W=e.options)!=null&&W.hideHistory?X("",!0):(P(),Q("div",Ai,[I(d,{rolls:e.rolls,onOnDieChip:t[1]||(t[1]=T=>e.handleChipClick(T))},null,8,["rolls"])])),(B=e.options)!=null&&B.hideAdvanced?X("",!0):(P(),Q("div",Di,[I(g,{die:e.die,watchmin:e.die.min,watchmax:e.die.max,mode:e.mode,ignore_hotkeys:e.console_active,afrender:e.afrender,onAdvancedUpdate:t[2]||(t[2]=T=>e.advancedUpdate(T)),onBaseToggle:e.handleZeroBaseToggle,onExclusiveToggle:t[3]||(t[3]=()=>e.die.exclusive=!e.die.exclusive),onModeChange:t[4]||(t[4]=T=>e.handleModeChange(T))},null,8,["die","watchmin","watchmax","mode","ignore_hotkeys","afrender","onBaseToggle"])])),A("div",Pi,[I(le,{flat:"",round:"",color:"primary",icon:"help_outline",onClick:t[6]||(t[6]=T=>e.ttopen=!e.ttopen)},{default:U(()=>[I(Dt,{modelValue:e.ttopen,"onUpdate:modelValue":t[5]||(t[5]=T=>e.ttopen=T)},{default:U(()=>[Oi]),_:1},8,["modelValue"])]),_:1}),I(le,{flat:"",round:"",color:"primary",icon:"computer",onClick:t[7]||(t[7]=T=>e.console_active=!e.console_active)}),I(le,{flat:"",round:"",color:"primary",icon:"refresh",onClick:e.handleReset},{default:U(()=>[I(Dt,{delay:1e3},{default:U(()=>[Fi]),_:1})]),_:1},8,["onClick"])]),I(k,{active:e.console_active,error:e.console_error,onConsoleClose:t[8]||(t[8]=T=>e.console_active=!1),onSubmit:e.handleConsoleSubmit},null,8,["active","error","onSubmit"]),I(kn,{position:"bottom-right",offset:[20,20]},{default:U(()=>[I(le,{fab:"",icon:"auto_awesome",color:"secondary","text-color":"black",onClick:e.bigButtonClick},{default:U(()=>[Li,A("span",zi,oe(e.die.toString()),1)]),_:1},8,["onClick"])]),_:1}),I(p,{die:e.die,active:(z=e.options)==null?void 0:z.enableDebug,"bg-color":"#d5c396"},null,8,["die","active"])]}),_:1})}var Qi=ge(Si,[["render",Ni]]);export{Qi as default};
